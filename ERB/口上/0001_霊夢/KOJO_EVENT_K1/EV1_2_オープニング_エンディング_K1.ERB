;_/_/_/_/_/_/_/_/_/_/_/_/_/_/_/_/_/_/_/_/_/_/_/_/#
;
;	霊夢口上 オープニング、エンディング口上ファイル
;
;	オープニング, エンディングイベント口上のファイル
;
;_/_/_/_/_/_/_/_/_/_/_/_/_/_/_/_/_/_/_/_/_/_/_/_/#

;========================================================================
;EV1, オープニング口上
;========================================================================
;・口上主(TARGET)が主人である場合にのみ表示される
;・戻り値を2とした場合はOP後の本体側のタイトルロゴは表示されない
;・ノーマルモード以外の場合、調教対象がNO:MASTER == 0(いわゆる%CALLNAME:MASTER%)でない可能性あり
;-------------------------------------------------
;関連変数…
;FLAG:モード(0=通常/1=サンドボックス/9=エキストラ)
;-------------------------------------------------
@KOJO_EVENT_K1_1(ARG)
;━━━━━━━━━━━━━━━━━━━━━━━━
;ノーマルモード時
;RESULT値(1,OPを表示した後本体のタイトルロゴを表示/2, 本体のタイトルロゴを表示しない)
;━━━━━━━━━━━━━━━━━━━━━━━━
IF 口上記入チェック(100) && !FLAG:モード
	;とりあえず必要そうなものを例として置いておきます
	;実際にどのように扱うかは、既存の口上を見てもらえば分かるかと
	
	;召喚可能助手代入		以下の例の場合、%CALLNAME:TARGET%と魔理沙のみ魔力使用で呼ぶ事が出来る
	;CSTR:召喚可能助手 = %CALLNAME:TARGET%/魔理沙/
	
	;MASTERの呼び名代入		以下の例の場合、MASTERの呼び名は貴方となる
	;CSTR:(TARGET):呼び方リスト = %NAME:MASTER%_貴方/%CSTR:(TARGET):呼び方リスト%
	;他の箇所(例えばEVENT11)等で条件式を組んでINPUTを絡ませて代入、という事も可能
	
	;キャラカットイン CSVで定義されたものが呼ばれる。CSVCSTRで任意のキャラのカットインを呼ぶ事も可能
	;CALL CHARA_CUTIN(CSTR:二つ名, CSTR:登場名, CSTR:ローマ字)
	
	;ＢＧＭカットイン(CSTR:曲１, CSTR:曲２でキャラCSVで定義されたものを呼び、直接記述する事で任意の内容に変更する事も出来る)
	;CALL BGM_CUTIN(CSTR:曲１)
;-------------------------------------------------
;CNAMEやCSTR:召喚可能助手、その他各種代入に向いた箇所の一つです
;コマンド封印も個別に可能ですが、本体側の意向として(一応)隠し機能にしたいという事情もあり
;判る人はどうぞ、という事で解説はしない方向で
;-------------------------------------------------
;口上を表示した上で、終端をRETURN 0とする事で本体側の汎用OPに渡す事も可能だったりします
;汎用OPに飛ばした際はタイトルロゴが表示されます
;-------------------------------------------------
	;召喚可能助手代入
	;-------------------------------------------------
	;機能していないのでコメントアウト
	;CSTR:召喚可能助手 = %CALLNAME:TARGET%/
	;機能していないのでコメントアウト
	;CSTR:召喚可能助手 = 封印
	;-------------------------------------------------
	;各種封印処理
	;-------------------------------------------------
	;SM系をどこまで封印するか
	;外出中は服を着ろとしか言ってこない。なんて事はできるのだろうか
	;口上側でコマンド抹殺ができるのはバリアントの強みの一つ

	;ハード系第三者系は趣味でないので抹殺
	;フィスト系を封印
	CFLAG:1070 = 100
	CFLAG:1071 = 100
	CFLAG:1072 = 100
	;公器プレイを封印
	CFLAG:1074 = 100

	;首輪封印
	;CFLAG:TARGET:奴隷の首輪封印 = 100
	;奴隷の首輪取得を封印
	CFLAG:奴隷の首輪封印 = 1
	
	;統合性維持の為ペニスバンド抹殺
	CFLAG:1075 = 100
	
	;こづくりにならない為アナルセックスさせるを封印
	CFLAG:1099 = 100

	PRINTFORMDW 冬が過ぎ、雪が解け、幻想郷に春が来た
	PRINTFORML
	PRINTFORMDW 春。始まりの季節
	PRINTFORMDW 春。繁殖の季節
	PRINTFORMDW 春。%CALLNAME:TARGET%の季節
	PRINTFORML
	PRINTFORMDW 博麗神社に顔を出し、二、三言、言葉を交わし
	PRINTFORMDW %CALLNAME:TARGET%と暖かい陽の中、二人並び茶をすする
	PRINTFORML
	;もてなす側の%CALLNAME:TARGET%は%CALLNAME:MASTER%が一口目を口にするまで待つ
	PRINTFORMDL ずぞぞっ…
	PRINTFORMW ずずっ…
	PRINTFORML 
	PRINTFORMW 「ところで…」
	PRINTFORMW 「今日からあんたと私、夫婦ね」
	PRINTFORML 
	PRINTFORMDW その宣告はあまりにも唐突で、しかし彼女らしくもあった
	RETURN 1
ENDIF
;将来的に他のモードが追加された場合はFLAG:モードを決めうちした方が良いかも知れません
;━━━━━━━━━━━━━━━━━━━━━━━━
;ノーマルモード以外の場合
;RESULT値(1,OPを表示した後本体のタイトルロゴを表示/2, 本体のタイトルロゴを表示しない)
;━━━━━━━━━━━━━━━━━━━━━━━━
IF 口上記入チェック(0) && FLAG:モード > 0
	PRINTFORMW 
	RETURN 1
ENDIF

;========================================================================
;EV2, エンディングイベント口上
;========================================================================
;・開始30日以降、日時の更新時にシステム側からEVENT2が呼び出される
;・戻り値1以上が返ると本体側でFLAG:END達成が立ち、以降はシステム側から呼び出される事はない
;・以前は戻り値1以外はFLAG:END達成が立たない仕様でしたが、現在はRESULT > 0ならフラグが立つようになっています
;・必要に応じてFIRSTEVENTを使っておくと万が一の保険にはなりますし、仕様変更にも強いです
;-------------------------------------------------
;　最短で呼び出されるのが30日というだけなので、その他の部分では口上側で任意に条件設定が可能です
;　IF 口上記入チェック() &&で条件で区切るなり、IF 口上記入チェック()で大分岐にした上で、小分岐内で個別に条件設定も出来ます
;　階層イベント形式にして表示させた上でRETURN 0。最後にRETURN 1で。なんて事も可能ではあったり
;　可能性は無限にあるので、条件設定は各口上作者に委ねたいと思います
;-------------------------------------------------
@KOJO_EVENT_K1_2(ARG)
;-------------------------------------------------
;将来的にはCFLAG:依存度による本体側のED分岐なんていう代物の構想もあったり
;その際には、本体側の処理を呼ぶ/殺すも口上側で任意に設定が可能という方向性
;とはいえ、いつになるのか、実現するかも定かではないので、現状は各自頑張って下さいということで
;-------------------------------------------------
;━━━━━━━━━━━━━━━━━━━━━━━━
;エンディング
;━━━━━━━━━━━━━━━━━━━━━━━━
IF 口上記入チェック(100)
	PRINTFORML
	PRINTFORMDW そしてそれから……
	PRINTFORML
	PRINTFORMDW 暑い日差しの中、二人並び茶をすする
	PRINTFORML 
	PRINTFORML ずずっ…
	PRINTFORMW 「…もうじき夏ね」
	PRINTFORML 
	PRINTFORMDW こく。と首肯し茶をすする
	PRINTFORMDW ずぞぞっ…
	PRINTFORML
	PRINTFORMDL こと。
	PRINTFORMDW と、%CALLNAME:MASTER%が湯呑を置くと
	PRINTFORML
	PRINTFORML こと。
	PRINTFORMW と、それに%CALLNAME:TARGET%も続く
	PRINTFORML
	PRINTFORMW %CALLNAME:MASTER%の手に、%CALLNAME:TARGET%がそっと手を重ねてくる
	
	;戻り値は1で決めうちしておきます
	RETURN 1
ENDIF
