;_/_/_/_/_/_/_/_/_/_/_/_/_/_/_/_/_/_/_/_/_/_/_/_/#

;	eratohoЯeverse　雛口上 Ver 1.13 (2017/08/12)

;		「基本設定・ライセンス」ファイル

;					Author /L

;_/_/_/_/_/_/_/_/_/_/_/_/_/_/_/_/_/_/_/_/_/_/_/_/#

;=====================================================================
;	Modification Data:
;
;	version		Date					Reason
;	1.13		2017/08/12				EVENT16に方針[10]の追加と加筆。その他修正等
;	1.12		2017/07/15				EVENT/ACT/REACTのコード整理。その他加筆、修正等
;	1.11		2015/01/11				@口上記入チェック仕様に。その他加筆、修正等
;	1.10@0503	2014/05/03				表示関連関数のARG被りを修正。FUNCTIONフォルダ内の@AFFECTION_K39を削除。単品での配布なし
;	1.10b		2014/04/06				本体0330+版同梱用に一部修正を加えた仕様。単品での配布なし
;	1.10		2013/10/29				細かな修正等
;	1.09b		2013/09/01				本体0616版でとりあえずエラー吐かないだけの暫定処置
;	1.09		2013/01/17				本体側の@COM52変更に対応。TFLAG:REACT負荷分岐を追加。その他
;	1.08		2013/01/01				リネームされた関数に対応
;	1.07		2012/12/24				変更された変数に対応。関数類を現行仕様に。その他加筆修正等
;	1.06		2012/11/05				関数を追加＆不具合修正。ED処理を変更。その他
;	1.05		2012/06/17				COM40にACT分類10分岐を追加
;	1.04		2012/06/04				TFLAG:調教者状態変化をTCVAR:状態変化に変更
;	1.03		2012/05/28				ACT_ABLEの変更に対応。EVENTの一部条件見直し
;	1.02		2012/05/14				@KOJO_K39, @KOJO_DIGEST, @KOJO_ATTENTION, @KOJO_SETUPに対応。TRAINの一部修正
;	1.01		2012/05/11				削除されたTLAG類をTCVARに変更。TRAINの改変。その他
;	1.00		2012/04/XX				エンディングを実装。ACT, REACT, COMを改変
;	0.93fix		2012/03/01				@KOJO_TRAIN_MESSAGE_ANIME_K39の設定変更
;	0.93		2012/01/06				CNAME、FLASHの実装。コンビネーション枠を300番台に移設
;	0.92		2011/10/18				その他
;	0.91		2011/10/17				COMMON_ACT修正
;	0.89fix		2011/10/14				QUAKEの統合。修正等
;	0.89		2011/10/09				新規作成
;=====================================================================

;　※※※※※※他者による修正、加筆、改変についての但し書き※※※※※※

;　オリジナル作者以外が手を入れる場合は、可能な限りオリジナル作者の許可を求めること。
;　オリジナル作者とコンタクトが取れない場合には以下の但し書きに従ってUPできるかどうか判断してください。
;
;意見、要望、苦情、不具合等があればIRC、eratohoЯeverse開発スレ、もしくは以下のメールアドレスまで。
;layer7.inc@gmail.com

;　　◎修正（誤字、脱字、構文のバグ等の修正、本体の仕様変更への対応など）
;　　（　不許可　）
;
;　　◎加筆（未記入箇所、分岐等の増補）
;　　（　不許可　）
;
;　　◎改変（上書き、消去を含む改変）
;　　（　不許可　）
;
;　　◎収録・再配布（如何なる場合であれ、本口上の二次配布を禁止します）
;　　（　不許可　）

;※この口上を参考にしたり、テンプレート代わりにするのは自由です。それらの点については、一切の制限を設ける気はありません

;=====================================================================

;ライセンス継承の義務付け
;加筆、改変、二次配布等の際にこのライセンスを書き変える事は認めない
;各項目の許可、不許可を変更してはならない
;(場合によっては相談に応じます。作者に連絡して下さい)

;=====================================================================
;その他…
;1.この口上の出典について虚偽の表示をしてはならない。
;  本作者以外がこの口上のオリジナルの作者であると主張してはならない。
;2.あなたがこの口上を修正、加筆、改変、二次配布した場合は、そのことを明示しなければならない。
;  本作者が新たに修正、加筆、改変した場合を除き、この口上をオリジナルの口上であるという虚偽の表示をしてはならない。
;3.あなたがこのライセンスによって禁止されていることをする場合、口上作者に連絡し許可をとる必要がある。
;  連絡に対する口上作者の返答がない場合、原則として否定されたものとする。
;4.あなたはこの口上を開くまたは二次配布する際に、このライセンスを読む義務がある。
;  読まなかった等の理由によりこれらの義務を破ることは許されない。
;
;
;※あなたはいかなる場合であっても、以上のことに必ず従わなければなりません
;=====================================================================

;---------------------------------------------------------------------
;FIRSTTIME周りの仕様が整理されたので、今後はFIRST+接続詞で定義されたものを使う方針
;FIRSTEVENT, FIRSTACTのように呼び出し毎に定義されていてFIRSTACTであれば自動的にTFLAG:ACT（TFLAG:90）を参照するので
;事実上、番号の管理から解放される。そして理論上無限にイベントを登録可能でもある。
;詳細はCOMMON_USEFUL.ERBを参照の事。
;従来のFIRSTTIMEもそのまま使えるが、こちらも理論上無限にイベントを登録可能になっている。
;ただこちらは個別に管理されないので、全体を通して番号が被らないように注意する必要がある
;---------------------------------------------------------------------

;口上使用KFLAG
;=============
;KFLAG:0　KFLAG:1(イベント経過判定)
;KFLAG:50(OP経過判定)
;KFLAG:100(相思相愛判定)
;KFLAG:150(ED経過判定)

;地の文のアニメーション効果設定
;==============================
[SKIPSTART]
地の文でアニメーション効果を行う直前に呼ばれる
RETURN 1するとアニメーション効果（振動・フラッシュの二種）を強制非表示にする
口上側でエフェクトを多用するなどで競合する場合に設定
戻り値を変数や条件式にすることで、特定の場面のみオフにすることも一応できる
現状本体側の振動・フラッシュはSOURCE_1内の処理のみ(SOURCE_5も同様の処理を入れるべきと考える)
[SKIPEND]
@KOJO_TRAIN_MESSAGE_ANIME_K39
RETURN 1

;排他のチェック
;==============
;条件を満たす調教対象の場合、未記入でも一般口上を表示しない設定
;指定口上同士の排他設定はできない
@KOJO_MALE_EXCLUSION_K39
RETURN 1

;満足ボーコンフィグ
;==================
;@KOJO_SEAL_BONUS_K39
;RETURN 0

;口上色設定
;==========
[SKIPSTART]
ここで設定したものが口上表示時にEVENT_K内でCALL KOJO_COLOR(TARGET)で呼び出され
@KOJO_ACTなり@KOJO_REACT終了時にはRESETCOLORされる

SETCOLOR命令はＲ(赤)Ｇ(緑)Ｂ(青)の順で文字の表示色を指定できる
各値は0～255までの範囲で設定できる。数字が大きいほど、その色の度合いが強くなる
色彩についてよくわからなければ「色見本」などで検索してみるのがよい
デフォルトは灰色
アライメントが負だと色が変わる等、自由に条件で分岐することもできる
RGB HexまたはDecどちらの表記でもok

見本はあくまでも背景の場合が多いので、実際に文字を出力して確認すべきと考える
フォントやフォントスタイルを変えると見た目の印象が変わる事も覚えておくといいかも知れない
個人的にはこの辺りがお勧め
	http://www.colordic.org/
	http://lab.till-daylight.org/colors/

コンビネーション系はCALL KOJO_COLOR(ASSI)を使うとASSIの文字色を呼べる
その際、元に戻す処理を入れないと当該部分終了時までそのままになるので注意
ACT、REACT終了時にはEVENT_KでRESETCOLORされる
というかこの場合は@PRINT_KOJO_COLOR使った方が簡単
[SKIPEND]
@KOJO_COLOR_K39
SETCOLOR 0xB5213B


;口上存在判定
;============
@KOJO_K39
;対象限定RESULTS
RESULTS   = /MALE/
;作者名
RESULTS:1 = /L
;一般口上が無い場合はRETURN 0
RETURN 0


;DIGEST//あらすじ
;=================
@KOJO_MALE_DIGEST_K39
#LOCALSIZE 1
#DIM LINE, 1
VARSET LOCAL
LOCAL:0 = CURRENTREDRAW()
;ノーマルモードの場合
IF !FLAG:モード
	;フォントをセット
	CALL SETFONT_K39
	;中央で表示
	ALIGNMENT CENTER
	;デフォルトカラーで表示させたいのでFADEを使う
	;COLOR関数を用意してプリセットしたものをいくつか作っておけば面倒じゃない。むしろ判りやすいと考える
	CALL FADE(20, COLOR_K39("black"), COLOR_K39("white"), @"一人異世界に迷い込んだ%CALLNAME:MASTER%")
	TWAIT 2500, 0
	PRINTL
	CALL FADE(20, COLOR_K39("black"), COLOR_K39("white"), "そして現れる一柱の厄神")
	TWAIT 2500, 0
	PRINTL
	PRINTL
	CALL FADE(20, COLOR_K39("black"), COLOR_K39("white"), "その出会いの先に如何なる運命が待ち受けるのか")
	TWAIT 2500, 0
	PRINTL
	CALL FADE(20, COLOR_K39("black"), COLOR_K39("white"), "貴方自身の目で確かめる事になる")
	TWAIT 3000, 0
	;行位置を保存
	LINE = LINECOUNT
	CALL TWAIT3_ZWEI_K39
	;フォントを戻す
	CALL RESETFONT_K39
	;左寄せに戻す
	ALIGNMENT LEFT
	REDRAW 0
	;保存した行位置まで行削除
	CLEARLINE LINECOUNT - LINE
	REDRAW LOCAL:0
	PRINTL
;その他のモードの場合
ELSE
	{
	CALL HTMLPRINTDL(@"　　%HTMLFONT("<b>※</b>", , COLOR2_K39("赤"))%このモードの場合、" + 
	"専用オープニング、イベント、エンディングはありません")
	}
ENDIF
WAIT
RETURN 1


;ATTENSION//注意書き
;====================
@KOJO_MALE_ATTENTION_K39
{
CALL HTMLPRINTDL(@"　　この口上は%HTMLFONT("<b>オトコ</b>", "ＭＳ 明朝", COLOR2_K39("白"))%主人公専用です。" + 
"その他の性別では表示されません。")
}
PRINTDL 　　専用オープニング、イベント、エンディングはノーマルモードのみに存在します。
{
CALL HTMLPRINTDL(@"　　ノーマルモードの場合、開始%HTMLFONT("<b>30日</b>", , 0xCC99FF)%を経過した時点で、" + 
"所定の条件を満たしているとエンディングになります。")
}
PRINTDL 　　エンディングは現在２種。途中のイベントの選択で分岐します。
PRINTDL 　　迎えたエンディングによってはそのまま終了、若しくはデータロードの選択となりゲーム続行はできません。
PRINTL
PRINTDL 　　ゲームを開始する前に、必ずreadmeに目を通して下さい。
{
CALL HTMLPRINTDL(@"　　当口上を用いてプレイを開始する以上、『%HTMLFONT("<b>readmeの全ての箇所に目を通し同意したもの</b>", 
, COLOR2_K39("赤"))%』とみなします。")
}
[SKIPSTART]
PRINTL
PRINTDL 　　このバージョンは本体がv1.010であれば+でも++でも許容しますが
PRINTDW 　　本体の更新内容次第では互換性の問題が出る可能性もあります。ご了承下さい。

PRINTDL 　　現在、様々な理由によりリリース時点以外の本体バージョンには対応していません。
PRINTDW 　　よって本体側が更新した際には、その内容に関わらず当口上は使えなくなります。ご了承下さい。

PRINTDL 　　また、本体側の更新内容によっては当口上が使えなくなる可能性もあります。
PRINTDW 　　本体の更新があった際には必ず本体のreadmeにも目を通して下さい。
[SKIPEND]
RETURN 1


;CONFIG
;======
;RESULTは初期値-1になっています。コンフィグ項目に対応した設定をしてください。
;コメントアウト部分、-1になっている部分は、設定を変更しません。
@KOJO_SETUP_K39
RESULT: 1 =  0 ;主人公の読心能力(0=読めない、1=空気が、2=心が)
RESULT: 2 = -1 ;素質の表示分類(0=番号順、1=系統別)
RESULT: 3 =  1 ;日常イベント(0=オフ、1=オン)
RESULT: 4 =  0 ;調教者の妊娠判定(0=オフ、1=オン)
RESULT: 5 =  0 ;調教対象の妊娠判定(0=オフ、1=愛()があるほど妊娠しやすい、2=普通にオン)

;RESULT:6 AI自由度（SANDBOX用）(0=余計なことしない、1=人員追加、2=技巧上昇、4=技能取得、8=道具錬成、15=全てを自動で行う)
;現状ではRESULTに入れた数値がbitとして指定されるので、bit和での指定も可能。ただし将来的に仕様変更の可能性あり
RESULT: 6 = 13 ;人員増加/技能取得/道具練成
RESULT:10 =  1 ;口上表示設定(0=表示しない、1=表示する)

;アニメ設定(0=オフ、1=オン)
;==========================
RESULT:11 =  1 ;キャラ登場カットイン
RESULT:12 =  1 ;ＢＧＭカットイン
RESULT:13 =  1 ;PALAM獲得アニメ
RESULT:14 =  1 ;脱衣アニメ
RESULT:15 =  1 ;昼夜の背景色変化
RESULT:16 =  0 ;全画面カットイン
RESULT:17 =  1 ;フラッシュ効果
RESULT:18 =  1 ;振動効果
RESULT:19 =  1 ;文字のスライド
RESULT:20 =  1 ;文字のフェードイン・アウト
RETURN 1


;満足ボーナスのオン、オフ設定
;============================
[SKIPSTART]
//以前に作りかけてやめた機能。実装されていないので真似しないように
@KOJO_SETUP_BONUS_K39
;大満足ボーナス設定（0=オフ、1=オン）
RESULT:0 = 1 ;//いつも通り
RESULT:1 = 1 ;//アナルをいじめて
RESULT:2 = 1 ;//お仕置きをして
RESULT:3 = 1 ;//激しくして
RESULT:4 = 1 ;//甘えさせて
RESULT:5 = 1 ;//壊れるまでして
RESULT:6 = 0 ;//外に出たい
RESULT:7 = 1 ;//ご主人さまを孕ませたい
RESULT:8 = 1 ;//休ませて
RETURN 1
[SKIPEND]
