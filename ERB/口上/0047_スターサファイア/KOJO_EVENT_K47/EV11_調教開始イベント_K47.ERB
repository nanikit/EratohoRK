;_/_/_/_/_/_/_/_/_/_/_/_/_/_/_/_/_/_/_/_/_/_/_/_/#
;
;	スターサファイア口上 調教開始イベント口上ファイル
;
;	調教開始イベント口上をまとめたファイル
;
;_/_/_/_/_/_/_/_/_/_/_/_/_/_/_/_/_/_/_/_/_/_/_/_/#

;========================================================================
;EV11, 調教開始口上
;========================================================================
;・大抵の場合、口上作者がまず考えるのは"主人"としての口上と考えられるので
;・@KOJO_MS_EVENTとして、TALENT:ご主人様である場合に限定してしまいます
;・イベント関連は口上主の立場によって整合性が損なわれる可能性があるのでこのような処置にしました
;・口上内の全ての箇所で口上関数による同様の排他処理は可能だったりします
;-------------------------------------------------
;　召喚され、調教を任される場合の口上を書くのであれば
;　呼び出しを@KOJO_EVENT_KX1_11として排他を行わず、TALENT:ご主人様とその他で分岐を設ける
;　EVENT1, OP(主人である場合にしか処理されない)でKFLAGへの代入を行い、分岐を設ける
;　若しくは、@KOJO_AS_EVENT_KX1_11として別ファイルに切り分けてしまうと良いでしょう
;-------------------------------------------------
;とりあえず分岐を設けてありますが、EVENT11枠内の分岐の増減は自由にできます
;COMMON_GETTER_CHARA.ERB内、@AFFECTIONにはここに無いものも定義してあったりします
;ただし、条件のゆるい分岐を上層にもってくると下位の分岐が全て死に口上になるので
;優先度には十分に注意してください
;-------------------------------------------------
@KOJO_MS_EVENT_K47_11(ARG)
;-------------------------------------------------
;引数内訳…
;ARG=(0, 通常/1, 調教者の疲労による中止/2, 調教対象の疲労による中止)
;-------------------------------------------------
;────────────────────────────────────
;調教初回・１０回目
;────────────────────────────────────
;・調教初回、及び10回目に表示される口上
;・CFLAG:調教回数で回数は如何様にでも参照できますが、やりすぎると他の条件を食いつぶす可能性あり
;-------------------------------------------------
;━━━━━━━━━━━━━━━━━━━━━━━━
;調教初回
;━━━━━━━━━━━━━━━━━━━━━━━━
IF 口上記入チェック(100) && CFLAG:調教回数 == 1
	;=================================================
	;反抗刻印Lv5以上
	;=================================================
	IF 口上記入チェック(100) && MARK:反抗刻印 >= 5
		PRINTFORMW 「あら？もしかして私の事が嫌いかしら？
		PRINTFORMW 　嫌ってもいいわよ。
		PRINTFORMW 　嫌われても帰してあげるつもりなんてないもの」
		PRINTFORMDW ニコニコとしながら平然とそう言う%CALLNAME:TARGET%だが、
		PRINTFORMDW どこか機嫌が悪そうに感じた。
		RETURN 1
	ENDIF
	
	;=================================================
	;トラウマLv5以上
	;=================================================
	IF 口上記入チェック(100) && MARK:MASTER:トラウマ >= 5
		PRINTFORMDW %CALLNAME:TARGET%はニコニコとしながらこちらへと近づいてくる。
		PRINTFORMDW 思わず後ずさりをすると彼女は無言で手を振り上げた。
		PRINTFORMDW 小さく悲鳴を上げて頭を庇うと彼女は楽しそうに笑い始めた。
		PRINTFORMW 「もう、イタズラ妖精を怖がりすぎよ。
		PRINTFORMW 　そんな反応されちゃうとなんだか楽しくなっちゃうわ♪」
		RETURN 1
	ENDIF
	
	;=================================================
	;快楽刻印Lv7以上
	;=================================================
	IF 口上記入チェック(100) && MARK:MASTER:快楽刻印 >= 7
		PRINTFORMW 「あらあら、嬉しそうにしちゃって♪
		PRINTFORMW 　イタズラされるのが楽しいなんて変態さんね。
		PRINTFORMW 　そんな変態さんにはオシオキしなくっちゃ」
		PRINTFORMDW %CALLNAME:TARGET%は鼻歌交じりに調教の準備を始めた。
		RETURN 1
	ENDIF
	
	;-------------------------
	;その他
	;-------------------------
	PRINTFORML 「人間を飼ってみたはいいけれど、どうすればいいのかしら？」
	PRINTFORMW 「ペットはかわいがるものよね」
	PRINTL
	PRINTFORML 「やっぱり、まずはスキンシップかしら」
	PRINTFORMW 「ううん、違うわね。まずは上下関係をしっかりせないと」
	;ＢＧＭカットイン　スターヴォヤージュ2008
	CALL BGM_CUTIN(CSTR:曲２)
	CALL FADEIN(13, "「うん、決めた！まずは調教ね♪」")
	WAIT
	RETURN 1
ENDIF

;━━━━━━━━━━━━━━━━━━━━━━━━
;調教１０回目
;━━━━━━━━━━━━━━━━━━━━━━━━
IF 口上記入チェック(100) && CFLAG:調教回数 == 10 && !ARG
	PRINTFORMW 「もうイタズラも１０回目なのね」
	PRINTFORMW 「そろそろもっと新しいこととかもやってみたいわ」
	RETURN 1
ENDIF

;────────────────────────────────────
;調教中止 ARG:1 ARG:2
;────────────────────────────────────
;CFLAG:消耗 > 5もしくはCFLAG:MASTER:消耗 > 5を条件として呼び出される箇所
;この条件から漏れた場合は通常の調教開始口上が呼ばれる
;-------------------------------------------------
;━━━━━━━━━━━━━━━━━━━━━━━━
;疲労で調教が中止になる場合
;━━━━━━━━━━━━━━━━━━━━━━━━
IF 口上記入チェック(100) && ARG > 0
	;=================================================
	;疲れているのは口上主(TARGET)
	;=================================================
	IF 口上記入チェック(100) && ARG == 1
		SELECTCASE RANDEVENT(3, 100)
			CASE 0
				PRINTFORMW 「はぁ、疲れちゃった…」
			CASE 1
				PRINTFORML 「んーー……
				PRINTFORMW 　たっぷり遊んだしそろそろ帰ろうっと」
			CASE 2
				PRINTFORMW 「キノコの盆栽みたいに思うようにいかないわね」
				PRINTFORMDW %CALLNAME:TARGET%は少し困ったように言ってみせた。
		ENDSELECT
		RETURN 1
	ENDIF
	
	;=================================================
	;疲れているのは調教対象(MASTER)
	;=================================================
	IF 口上記入チェック(100) && ARG == 2
		SELECTCASE RANDEVENT(3, 101)
			CASE 0
				PRINTFORML 「あらあら、もう疲れちゃったの？
				PRINTFORMW 　仕方ないわねえ。今回はここまでよ」
			CASE 1
				PRINTFORMW 「もう、だらしないわね」
				PRINTFORMDW %CALLNAME:TARGET%は呆れたように微笑んだ。
			CASE 2
				PRINTFORML 「すっかりぐったりしちゃってる
				PRINTFORMW 　うーん、そろそろお開きかしら」
		ENDSELECT
		RETURN 1
	ENDIF
ENDIF

;────────────────────────────────────
;その他・好感度等による分岐
;────────────────────────────────────
;・現在のACTABLEやCOMABLEの仕様的に、進展度を測るには(事実上)好感度を基準にするしかないと思われる
;・依存度は@COMで代入され参照できるのみで、本体側の挙動には何ら影響を与えていない
;・今後の手入れ如何によっては使い道もあるかも？といったところ
;-------------------------------------------------

;-------------------------------------------------
;・互いに好き合っている
;-------------------------------------------------
;元々はEDが実装されていない時代に、仮のED枠として使われる事の多かった箇所
;現状でもこの段階に至るには、それなりの日数と進展が必要になると思われます
;━━━━━━━━━━━━━━━━━━━━━━━━
;相思相愛（好意3000以上・好感度3000以上)
;━━━━━━━━━━━━━━━━━━━━━━━━
IF 口上記入チェック(100) && AFFECTION("相思相愛")
	;=================================================
	;初回
	;=================================================
	IF 口上記入チェック(100) && FIRSTEVENT(0)
		PRINTFORMDW %CALLNAME:TARGET%は嬉しそうにとてとてとこちらへと駆け寄ってきた。
		PRINTFORMDW この小さなご主人様の調教もこれで何回目だろうか？
		PRINTFORMDW もう彼女に調教されることに抵抗を感じるどころか、
		PRINTFORMDW 心の底から悦んでいること否定なんてできそうにはない。
		PRINTFORMW 「今日は何をしようかしら？
		PRINTFORMW 　ふふ、キノコの盆栽より楽しいかもしれないわね」
		PRINTFORMDW 素直じゃないと言うとどうかしら？とにっこりと笑い返された。
		PRINTFORMDW そんな些細なやり取りすらも楽しくて仕方がない。
		PRINTFORMDW 彼女さえいればこのままこの部屋から出られなくてもいい。
		PRINTFORMDW このつかみ所のない妖精ともうすぐ触れ合える。
		PRINTFORMDW そう思うだけで胸が期待で高鳴った。
		PRINTFORMW 「ほらほら、呆けてないではじめるわよ。
		PRINTFORMW 　私のかわいいペットさん♪」
		RETURN 1
	ENDIF
	
	;=================================================
	;初回以外
	;=================================================
	IF 口上記入チェック(100)
		SELECTCASE RANDEVENT(3, 0)
			CASE 0
				PRINTFORMW 「さあ、楽しい調教の時間よ♪」
			CASE 1
				PRINTFORMW 「今日もおかしくなっちゃうくらい気持ちよくしてあげる。
				PRINTFORMW 　ふふふ、だらしない顔しちゃって」
			CASE 2
				PRINTFORMW 「もう、目つきがいやらしいわよ」
				PRINTFORMDW そう言う%CALLNAME:TARGET%はどこか嬉しそうだった。
		ENDSELECT
		RETURN 1
	ENDIF
ENDIF

;-------------------------------------------------
;・調教対象が口上主にもうメロメロ
;━━━━━━━━━━━━━━━━━━━━━━━━
;調教完了（好意2000以上）
;━━━━━━━━━━━━━━━━━━━━━━━━
IF 口上記入チェック(100) && AFFECTION("調教完了")
	;=================================================
	;初回
	;=================================================
	IF 口上記入チェック(100) && FIRSTEVENT(10)
		PRINTFORMW 「あらあら、随分といい表情になったわね」
		PRINTFORMDW スターに微笑みかけられ思わず胸が高鳴った。
		PRINTFORMW 「もう期待しているの？気の早いペットねえ。
		PRINTFORMW それじゃあ期待通りのこと、してあげるわ%UNICODE(0x2661)%」
		PRINTFORMDW 近づいてくるスターの体温に胸は早鐘を打ち続けるばかりだ…
		RETURN 1
	ENDIF
	
	;=================================================
	;初回以外
	;=================================================
	;IF 口上記入チェック(0)
	;ENDIF
ENDIF

[SKIPSTART]
;-------------------------------------------------
;・調教者の方が調教対象にはまってしまい、深かったり倒錯した愛を注いでいる
;━━━━━━━━━━━━━━━━━━━━━━━━
;溺愛（好感度2000以上）
;━━━━━━━━━━━━━━━━━━━━━━━━
IF 口上記入チェック(0) && AFFECTION("溺愛")
ENDIF

;-------------------------------------------------
;・調教対象が口上主に調教されるのを幸せに感じている
;━━━━━━━━━━━━━━━━━━━━━━━━
;調教済み（好意1000以上)
;━━━━━━━━━━━━━━━━━━━━━━━━
IF 口上記入チェック(0) && AFFECTION("調教済み")
ENDIF

;-------------------------------------------------
;・調教者に対し嫌悪感を抱いている
;━━━━━━━━━━━━━━━━━━━━━━━━
;嫌悪（好意-100未満）
;━━━━━━━━━━━━━━━━━━━━━━━━
IF 口上記入チェック(0) && AFFECTION("嫌悪")
ENDIF

;-------------------------------------------------
;・心に傷を作られ、ご主人様の姿を見るだけで怯えてしまう
;・トラウマの種は「%ACTSTR(CFLAG:MASTER:8)%」で表示できる
;　例）PRINTFORMW 「もう%ACTSTR(CFLAG:MASTER:トラウマ)%は嫌ですって？」
;━━━━━━━━━━━━━━━━━━━━━━━━
;恐怖（好意200未満・トラウマLv3以上）
;━━━━━━━━━━━━━━━━━━━━━━━━
IF 口上記入チェック(0) && AFFECTION("恐怖")
ENDIF

;-------------------------------------------------
;・心を開かない奴隷に苛つくご主人様
;━━━━━━━━━━━━━━━━━━━━━━━━
;反抗（好意0以下・反抗刻印Lv3以上）
;━━━━━━━━━━━━━━━━━━━━━━━━
IF 口上記入チェック(0) && AFFECTION("反抗")
ENDIF

;-------------------------------------------------
;・調教されるのもむしろ好きになってきたかも知れない…
;━━━━━━━━━━━━━━━━━━━━━━━━
;目覚め（好意500以上）
;━━━━━━━━━━━━━━━━━━━━━━━━
IF 口上記入チェック(0) && AFFECTION("目覚め")
ENDIF

;-------------------------------------------------
;・丁寧に調教を進められて、思ったより嫌じゃないかも…
;━━━━━━━━━━━━━━━━━━━━━━━━
;順応（好意100以上・好感度100以上）
;━━━━━━━━━━━━━━━━━━━━━━━━
IF 口上記入チェック(0) && AFFECTION("順応")
ENDIF
[SKIPEND]

;-------------------------------------------------
;・要するに、他の条件にヒットしなかった場合に落ちる箇所
;・仮に他の分岐を全て放置した場合、この箇所だけ書いておけば何かは表示されるとか、そんな場所です
;━━━━━━━━━━━━━━━━━━━━━━━━
;序盤（条件なし）
;━━━━━━━━━━━━━━━━━━━━━━━━
IF 口上記入チェック(100)
	;=================================================
	;初回
	;=================================================
	IF 口上記入チェック(100) && FIRSTEVENT(90)
		PRINTFORMW 「さ、楽しい楽しい調教ね。
		PRINTFORMW %CNAME(MASTER)%はどんなペットに育つのか今から楽しみだわ」
		PRINTFORMDW これから本当にどうなってしまうのだろうか…
		PRINTFORMDW 大して強い妖精ではなさそうだが外にでれないのでどうしようもない。
		PRINTFORMDW しばらくはこの妖精の調教ごっこにつきあうしかなさそうだ。
		RETURN 1
	ENDIF
	
	;=================================================
	;初回以外
	;=================================================
	IF 口上記入チェック(100)
		SELECTCASE RANDEVENT(3, 90)
			CASE 0
				PRINTFORMW 「今日はどんなことをしようかしら♪」
			CASE 1
				PRINTFORMW 「自分の理想の形にしていくのはキノコの盆栽と同じね」
				PRINTFORMDW キノコと同程度なのか…
			CASE 2
				PRINTFORMDW 心なしかスターの機嫌がよさそうだ。
				PRINTFORMDW なにかいいことでもあったのだろうか？
		ENDSELECT
		RETURN 1
	ENDIF
ENDIF