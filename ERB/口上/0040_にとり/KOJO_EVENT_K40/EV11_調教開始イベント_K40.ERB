;_/_/_/_/_/_/_/_/_/_/_/_/_/_/_/_/_/_/_/_/_/_/_/_/#
;
;	にとり口上 調教開始イベント口上ファイル
;
;	調教開始イベント口上をまとめたファイル
;
;_/_/_/_/_/_/_/_/_/_/_/_/_/_/_/_/_/_/_/_/_/_/_/_/#

;========================================================================
;EV11, 調教開始口上
;========================================================================
@KOJO_EVENT_K40_11(ARG)
;-------------------------------------------------
;引数内訳…
;ARG=(0, 通常/1, 調教者の疲労による中止/2, 調教対象の疲労による中止)
;-------------------------------------------------

;────────────────────────────────────
;調教初回・１０回目
;────────────────────────────────────
;・調教初回、及び10回目に表示される口上
;・CFLAG:調教回数で回数は如何様にでも参照できますが、やりすぎると他の条件を食いつぶす可能性あり
;-------------------------------------------------
;━━━━━━━━━━━━━━━━━━━━━━━━
;調教初回・口上主がご主人様
;━━━━━━━━━━━━━━━━━━━━━━━━
IF 口上記入チェック(100) && CFLAG:調教回数 == 1 && TALENT:TARGET:ご主人様
	PRINTFORMDW がちゃり、と扉が開かれ、にとりが%CALLNAME:MASTER%の前に姿を見せた。
	PRINTFORMW 「じゃあ、今日から%CNAME(MASTER, TARGET)%は私の実験台ということで」
	;ＢＧＭカットイン　芥川龍之介の河童　～ Candid Friend
	CALL BGM_CUTIN(CSTR:曲１)
	PRINTFORMW 「協力的だと嬉しいなあ」
	RETURN 1
ENDIF

;━━━━━━━━━━━━━━━━━━━━━━━━
;調教初回・口上主がご主人様でない場合
;━━━━━━━━━━━━━━━━━━━━━━━━
IF 口上記入チェック(100) && CFLAG:調教回数 == 1
	;重複部分が多いのでちょっと弄ります@/L
	PRINTFORMDW がちゃり、と扉が開かれ、少女が%CALLNAME:MASTER%の前に姿を見せた。
	PRINTFORMW 「え……っと、初めまして」
	;ＢＧＭカットイン　芥川龍之介の河童　～ Candid Friend
	CALL BGM_CUTIN(CSTR:曲１)
	IF (MARK:反抗刻印 >= 5 || MARK:トラウマ >= 5 || MARK:快楽刻印 >= 5)
		IF 0
		;反抗刻印Lv5以上
		ELSEIF MARK:反抗刻印 >= 5
			PRINTFORMW 「これは、厄介そうだねえ……」
		;トラウマLv5以上
		ELSEIF MARK:トラウマ >= 5
			PRINTFORMW 「そんな、怯えなくても……」
		;快楽刻印Lv7以上
		ELSEIF MARK:快楽刻印 >= 5
			PRINTFORMW 「ちょっと、視線が怖い……」
		ENDIF
		PRINTFORMW 「私は河城にとり。よろしくー」
		RETURN 1
	ELSE
		;にとりがご主人様でない場合、辻褄が合わないのでコメントアウト@/L
		;PRINTFORMW 「実験台になってくれるなんてねえ」
		PRINTFORMW 「私は河城にとり。よろしくー」
		RETURN 1
	ENDIF
ENDIF

;━━━━━━━━━━━━━━━━━━━━━━━━
;調教１０回目
;━━━━━━━━━━━━━━━━━━━━━━━━
IF 口上記入チェック(100) && CFLAG:調教回数 == 10 && !ARG
	PRINTFORMDW がちゃり、と扉が開かれ、にとりが%CALLNAME:MASTER%の前に姿を見せた。
	;アライメント正
	IF ALI(0)
		PRINTFORMW 「そろそろ、慣れてくれたかなあ」
		PRINTFORMW 「気持ち良くなれるように、頑張ってるんだけど」
	;アライメント負
	ELSE
		PRINTFORMW 「そろそろ、慣れて欲しいなあ」
		PRINTFORMW 「あんまり痛いことは、したくないんだけど」
	ENDIF
	PRINTFORMW 「じゃあ、始めよっか！」
	RETURN 1
ENDIF

;────────────────────────────────────
;調教中止 ARG:1 ARG:2
;────────────────────────────────────
;CFLAG:消耗 > 5もしくはCFLAG:MASTER:消耗 > 5を条件として呼び出される箇所
;この条件から漏れた場合は通常の調教開始口上が呼ばれる
;-------------------------------------------------
;━━━━━━━━━━━━━━━━━━━━━━━━
;疲労で調教が中止になる場合
;━━━━━━━━━━━━━━━━━━━━━━━━
IF 口上記入チェック(100) && ARG > 0
	PRINTFORMDW がちゃり、と扉が開かれ、にとりが%CALLNAME:MASTER%の前に姿を見せた。
	;=================================================
	;疲れているのは口上主(TARGET)
	;=================================================
	IF 口上記入チェック(100) && ARG == 1
		PRINTFORMW 「ちょっと、寝不足でねえ……」
		PRINTFORMW 「悪いんだけど、休みってことで」
		PRINTFORMDW にとりはふらつきながら、部屋から出て行った……
		RETURN 1
	ENDIF
	
	;=================================================
	;疲れているのは調教対象(MASTER)
	;=================================================
	IF 口上記入チェック(100) && ARG == 2
		PRINTFORMW 「あれ、疲れてるみたいだあね」
		PRINTFORMW 「じゃあ、休みってことで」
		PRINTFORMDW にとりは僅かに肩を落とし、部屋から出て行った……
		RETURN 1
	ENDIF
ENDIF

;────────────────────────────────────
;その他・好感度等による分岐
;────────────────────────────────────
;・現在のACTABLEやCOMABLEの仕様的に、進展度を測るには(事実上)好感度を基準にするしかないと思われる
;・依存度は@COMで代入され参照できるのみで、本体側の挙動には何ら影響を与えていない
;・今後の手入れ如何によっては使い道もあるかも？といったところ
;-------------------------------------------------

;-------------------------------------------------
;・互いに好き合っている
;-------------------------------------------------
;元々はEDが実装されていない時代に、仮のED枠として使われる事の多かった箇所
;現状でもこの段階に至るには、それなりの日数と進展が必要になると思われます
;━━━━━━━━━━━━━━━━━━━━━━━━
;相思相愛（好意3000以上・好感度3000以上)
;━━━━━━━━━━━━━━━━━━━━━━━━
IF 口上記入チェック(100) && AFFECTION("相思相愛")
	;=================================================
	;初回・口上主がご主人様
	;=================================================
	IF 口上記入チェック(100) && TALENT:TARGET:ご主人様 && FIRSTEVENT(0)
		PRINTFORMDW ぺたり、ぺたり……というにとりの足音を聞いた%CALLNAME:MASTER%は、にとりを迎える準備を整えた。
		PRINTFORMDW 足音がドアの前で止まり、しばらく経った後、ばたばたとドアから離れるように音が響く。
		PRINTFORMDW 拍子抜けした%CALLNAME:MASTER%は、自分に何か落ち度でもあったのだろうか、と思い悩む。
		PRINTFORMDW その時、ドアを開こうとしたにとりは、廊下で頭を抱えてどう切り出すべきか、悩んでいた。
		PRINTL
		PRINTFORMDW 小一時間の後……
		PRINTFORMDW かちゃり、と扉が開かれ、おずおずとにとりが%CALLNAME:MASTER%の前に姿を見せた。
		PRINTL 
		RETURN 1
	ENDIF
	
	;=================================================
	;初回以外
	;=================================================
	;IF 口上記入チェック(0)
	;ENDIF
ENDIF

;-------------------------------------------------
;・調教対象が口上主にもうメロメロ
;━━━━━━━━━━━━━━━━━━━━━━━━
;調教完了（好意2000以上）
;━━━━━━━━━━━━━━━━━━━━━━━━
IF 口上記入チェック(100) && AFFECTION("調教完了")
	PRINTFORMDW ぺたり、ぺたり……とにとりの足音を聞いた%CALLNAME:MASTER%は、胸を高鳴らせてにとりを出迎えた。
	;=================================================
	;初回・口上主がご主人様
	;=================================================
	IF 口上記入チェック(100) && TALENT:TARGET:ご主人様 && FIRSTEVENT(10)
		PRINTFORMW 「うん？　どうしたの？」
		PRINTFORMW 「そんなに見つめられると、照れちゃうんだけどねえ」
		RETURN 1
	ENDIF
	
	;元のものはTALENT:ご主人様で分けてありましたが、内容が全く同じなのでまとめます
	;以下、他の箇所でも同様の処置を施します。無駄は極力削りたい意向@/L
	;=================================================
	;初回以外
	;=================================================
	IF 口上記入チェック(100)
		;兎にも角にもK:1 = RAND:3みたいなのを殺したかった。１文字変数殺し隊@/L
		SELECTCASE RANDEVENT(3, 10)
			CASE 0
				PRINTFORMW 「最近、凄く素直になったよねえ」
			CASE 1
				PRINTFORMW 「どうしたの、いきなりにやついちゃって……」
			CASE 2
				PRINTFORMW 「ちょっと、近寄りすぎじゃないかなあ」
		ENDSELECT
		PRINTFORMW 「じゃ、始めようか？」
		RETURN 1
	ENDIF
ENDIF

;-------------------------------------------------
;・調教者の方が調教対象にはまってしまい、深かったり倒錯した愛を注いでいる
;━━━━━━━━━━━━━━━━━━━━━━━━
;溺愛（好感度2000以上）
;━━━━━━━━━━━━━━━━━━━━━━━━
IF 口上記入チェック(100) && AFFECTION("溺愛")
	PRINTFORMDW ばたばた、と外が騒がしくなったかと思うと、にとりが勢い良く部屋へ飛び込んできた。
	;=================================================
	;初回
	;=================================================
	IF 口上記入チェック(100) && FIRSTEVENT(20)
		PRINTFORMW 「急に、会いたくなってねえ……」
		PRINTFORMW 「迷惑とかだったり、しないかな……？」
		RETURN 1
	ENDIF
	
	;=================================================
	;初回以外
	;=================================================
	IF 口上記入チェック(100)
		SELECTCASE RANDEVENT(3, 20)
			CASE 0
				PRINTFORMW 「昨日さあ、%CNAME(MASTER, TARGET)%の夢、見ちゃってねえ」
			CASE 1
				PRINTFORMW 「一杯、気持ちよくしてあげるね？」
			CASE 2
				PRINTFORMW 「%CNAME(MASTER, TARGET)%は、どんなのが好みなのかなあ」
		ENDSELECT
		PRINTFORMW 「時間もったいないし、始めようか」
		RETURN 1
	ENDIF
ENDIF

;-------------------------------------------------
;・調教対象が口上主に調教されるのを幸せに感じている
;━━━━━━━━━━━━━━━━━━━━━━━━
;調教済み（好意1000以上
;━━━━━━━━━━━━━━━━━━━━━━━━
IF 口上記入チェック(100) && AFFECTION("調教済み")
	PRINTFORMDW がちゃり、と扉から音がする前に、%CALLNAME:MASTER%は姿勢を正してにとりを待ち構えていた。
	;=================================================
	;初回
	;=================================================
	IF 口上記入チェック(100) && FIRSTEVENT(30)
		PRINTFORMW 「あれ……っ、何してるの、%CNAME(MASTER, TARGET)%？」
		PRINTFORMW 「ほらほら、冷えちゃうよ？」
		RETURN 1
	ENDIF
	
	;=================================================
	;初回以外
	;=================================================
	IF 口上記入チェック(100)
		SELECTCASE RANDEVENT(3, 30)
			CASE 0
				PRINTFORMW 「ちょっと、堅苦しくない？」
			CASE 1
				PRINTFORMW 「そんなに、心待ちにしてたんだあ」
			CASE 2
				PRINTFORMW 「今回はどんなのがいい？　なるべく希望は聞くよ？」
		ENDSELECT
		PRINTFORMW 「じゃあ、やろうか？」
		RETURN 1
	ENDIF
ENDIF

[SKIPSTART]
;-------------------------------------------------
;・調教者に対し嫌悪感を抱いている
;━━━━━━━━━━━━━━━━━━━━━━━━
;嫌悪（好意-100未満）
;━━━━━━━━━━━━━━━━━━━━━━━━
IF 口上記入チェック(0) && AFFECTION("嫌悪")
ENDIF

;-------------------------------------------------
;・心に傷を作られ、ご主人様の姿を見るだけで怯えてしまう
;・トラウマの種は「%ACTSTR(CFLAG:MASTER:8)%」で表示できる
;　例）PRINTFORMW 「もう%ACTSTR(CFLAG:MASTER:トラウマ)%は嫌ですって？」
;━━━━━━━━━━━━━━━━━━━━━━━━
;恐怖（好意200未満・トラウマLv3以上）
;━━━━━━━━━━━━━━━━━━━━━━━━
IF 口上記入チェック(0) && AFFECTION("恐怖")
ENDIF

;-------------------------------------------------
;・心を開かない奴隷に苛つくご主人様
;━━━━━━━━━━━━━━━━━━━━━━━━
;反抗（好意0以下・反抗刻印Lv3以上）
;━━━━━━━━━━━━━━━━━━━━━━━━
IF 口上記入チェック(0) && AFFECTION("反抗")
ENDIF
[SKIPEND]

;-------------------------------------------------
;・調教されるのもむしろ好きになってきたかも知れない…
;━━━━━━━━━━━━━━━━━━━━━━━━
;目覚め（好意500以上）
;━━━━━━━━━━━━━━━━━━━━━━━━
IF 口上記入チェック(100) && AFFECTION("目覚め")
	PRINTFORMDW がちゃり、と扉が開かれ、にとりが%CALLNAME:MASTER%の前に姿を見せた。
	;=================================================
	;初回
	;=================================================
	IF 口上記入チェック(100) && FIRSTEVENT(70)
		PRINTFORMW 「あ、待った？　なーんてね」
		PRINTFORMW 「率直に言ってどう？　ここの暮らし？」
		RETURN 1
	ENDIF
	
	;=================================================
	;初回以外
	;=================================================
	IF 口上記入チェック(100)
		SELECTCASE RANDEVENT(3, 70)
			CASE 0
				PRINTFORMW 「どう？　寂しくなかった？」
			CASE 1
				PRINTFORMW 「次、どんなことされたい？」
			CASE 2
				PRINTFORMW 「%CNAME(MASTER, TARGET)%、大分慣れてきたっぽいよねえ」
		ENDSELECT
		PRINTFORMW 「それじゃ、始めますかっ」
		RETURN 1
	ENDIF
ENDIF

;-------------------------------------------------
;・丁寧に調教を進められて、思ったより嫌じゃないかも…
;━━━━━━━━━━━━━━━━━━━━━━━━
;順応（好意100以上・好感度100以上）
;━━━━━━━━━━━━━━━━━━━━━━━━
IF 口上記入チェック(100) && AFFECTION("順応")
	PRINTFORMDW がちゃり、と扉が開かれ、にとりが%CALLNAME:MASTER%の前に姿を見せた。
	;=================================================
	;初回
	;=================================================
	IF 口上記入チェック(100) && FIRSTEVENT(80)
		PRINTFORMW 「どう？　ちょっとは慣れたんじゃない？」
		PRINTFORMW 「少し、雰囲気が変わった気がしてねえ」
		RETURN 1
	ENDIF
	
	;=================================================
	;初回以外
	;=================================================
	IF 口上記入チェック(100)
		SELECTCASE RANDEVENT(3, 80)
			CASE 0
				PRINTFORMW 「今回はちょっと、凄いよ？」
			CASE 1
				PRINTFORMW 「前やったやつだけどさあ、あれどうだった？」
			CASE 2
				PRINTFORMW 「最近、ちょっと反応が面白くなったねえ」
		ENDSELECT
		PRINTFORMW 「それじゃあ、始めるよ？」
		RETURN 1
	ENDIF
ENDIF

;-------------------------------------------------
;・要するに、他の条件にヒットしなかった場合に落ちる箇所
;・仮に他の分岐を全て放置した場合、この箇所だけ書いておけば何かは表示されるとか、そんな場所です
;━━━━━━━━━━━━━━━━━━━━━━━━
;序盤（条件なし）
;━━━━━━━━━━━━━━━━━━━━━━━━
IF 口上記入チェック(100)
	PRINTFORMDW がちゃり、と扉が開かれ、にとりが%CALLNAME:MASTER%の前に姿を見せた。
	;=================================================
	;初回
	;=================================================
	IF 口上記入チェック(100) && FIRSTEVENT(90)
		PRINTFORMW 「気分はどう？　早い内に慣れて欲しいねぇ」
		PRINTFORMW 「それじゃあ、始めよっか」
		RETURN 1
	ENDIF
	
	;=================================================
	;初回以外
	;=================================================
	IF 口上記入チェック(100)
		SELECTCASE RANDEVENT(3, 90)
			CASE 0
				PRINTFORMW 「体調はどう？……被験体の健康管理は大事だからねえ」
			CASE 1
				PRINTFORMW 「そろそろ、慣れてこない？……はぁ、まだかぁ」
			CASE 2
				PRINTFORMW 「今回はどうしよっか？……ううっ、無視しないでよお……」
		ENDSELECT
		PRINTFORMW 「それじゃあ、始めよっか」
		RETURN 1
	ENDIF
ENDIF