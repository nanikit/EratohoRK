;_/_/_/_/_/_/_/_/_/_/_/_/_/_/_/_/_/_/_/_/_/_/_/_/#
;
;	니토리 구상 그 외 조교 이벤트 구상 파일
;
;	그 외 조교 턴중 이벤트를 정리한 파일
;
;_/_/_/_/_/_/_/_/_/_/_/_/_/_/_/_/_/_/_/_/_/_/_/_/#

;────────────────────────────────────
;EV21, 대만족 구상
;────────────────────────────────────
;·조교자의 대만족 보너스를 취득했을 경우에 표시
;-------------------------------------------------
@KOJO_EVENT_K40_21(ARG)
;-------------------------------------------------
;━━━━━━━━━━━━━━━━━━━━━━━━━
;니토리님대만족
;━━━━━━━━━━━━━━━━━━━━━━━━━
IF 구상기입체크(100)
	;=================================================
	;중에이고라고!
	;=================================================
	IF 구상기입체크(100) && IS_NOWCOMNAME("안에내！")
		;아라이먼트정
		IF ALI(0)
			SELECTCASE RANDEVENT(3, 0)
				CASE 0
					PRINTFORMW 「굉장히, 기뻐……」
					PRINTFORMW 「나도, 만족시켜 주기 때문에……」
				CASE 1
					PRINTFORMW 「무엇인가, 굉장히……」
					PRINTFORMW 「우응, 아무것도 아니야!」
				CASE 2
					PRINTFORMW 「%CNAME(MASTER, TARGET)%로, 좋았어요……」
					PRINTFORMW 「나, 정말로 그렇게 생각하고 있기 때문에……」
			ENDSELECT
		;아라이먼트부
		ELSE
			SELECTCASE RANDEVENT(3, 11)
				CASE 0
					PRINTFORMW 「좋구나, 이 느낌……」
					PRINTFORMW 「이익 분배, 해 주고 싶을 정도야……」
				CASE 1
					PRINTFORMW 「뭐라고 할까, 저것이구나……」
					PRINTFORMW 「호기심을 돋워지는,%CNAME(MASTER, TARGET)%에는……」
				CASE 2
					PRINTFORMW 「지금, 오싹 왔어……」
					PRINTFORMW 「좀 더, 말해?」
			ENDSELECT
		ENDIF
		RETURN 2
	ENDIF
	
	;=================================================
	;비명을올린다
	;=================================================
	IF 구상기입체크(100) && IS_NOWCOMNAME("비명을올린다")
		;아라이먼트정
		IF ALI(0)
			SELECTCASE RANDEVENT(3, 10)
				CASE 0
					PRINTFORMW 「좀, 지금……」
					PRINTFORMW 「뭔가 묘한 느낌이었네……」
				CASE 1
					PRINTFORMW 「지금의 소리, 굉장히……」
					PRINTFORMW 「우응, 아무것도 아니지만 말야……」
				CASE 2
					PRINTFORMW 「우앗……」
					PRINTFORMW 「깜짝 놀랐다…… 것과 무엇인가……」
			ENDSELECT
		;아라이먼트부
		ELSE
			SELECTCASE RANDEVENT(3, 11)
				CASE 0
					PRINTFORMW 「아아…… 좋구나」
					PRINTFORMW 「%CNAME(MASTER, TARGET)%의 반응…… 최고야」
				CASE 1
					PRINTFORMW 「수치심이라든지, 없는 걸까나」
					PRINTFORMW 「나는 굉장히, 기쁘지만 말야」
				CASE 2
					PRINTFORMW 「나 따위에 그런 일 해 버려……」
					PRINTFORMW 「비참하다고는 생각하지 않아……?」
			ENDSELECT
		ENDIF
		RETURN 2
	ENDIF
	
	;아라이먼트정
	IF ALI(0)
		SELECTCASE RANDEVENT(3, 20)
			CASE 0
				PRINTFORMW 「뭔가 되고 싶은 것이라든지, 있을까나」
				PRINTFORMW 「스스로 말하는 것도 뭐 하지만, 지금 굉장히 기분 좋네요」
			CASE 1
				PRINTFORMW 「그러면 다음은, 내가 뭔가 봉사 해 줄까?」
				PRINTFORMW 「어떻게 하시고 싶은지, 제대로 생각해 두는 것. 좋다?」
			CASE 2
				PRINTFORMW 「이것은, 포상 주지 않으면……」
				PRINTFORMW 「무엇이 좋아?   다소의 무리는 (들)물어?」
		ENDSELECT
	;아라이먼트부
	ELSE
		SELECTCASE RANDEVENT(3, 21)
			CASE 0
				PRINTFORMW 「대단히, 알게 된 것 같다……」
				PRINTFORMW 「나는, 기뻐……」
			CASE 1
				PRINTFORMW 「지금의%CNAME(MASTER, TARGET)%, 좋았어요?」
				PRINTFORMW 「반해 버릴 것 같을 수록, 불쌍해 말야……」
			CASE 2
				PRINTFORMW 「아니―, 만족해 버렸군」
				PRINTFORMW 「다음은, 어떤 것이 좋아?」
		ENDSELECT
	ENDIF
	RETURN 2
ENDIF

;────────────────────────────────────
;EV22, 상태변화 구상
;────────────────────────────────────
;·상태 이상이 붙었을 때에 표시
;·TCVAR:상태변화가 조교자, TCVAR:MASTER:상태변화가 조교 대상
;·상태변화가 일어나면 3 턴 지속한다
;-------------------------------------------------
@KOJO_EVENT_K40_22(ARG)
;-------------------------------------------------
[SKIPSTART]
오리지날로 미기입의 개소는 comment out 해 둡니다@/L
;*************************************************
;EV22_0, 조교자 상태변화
;*************************************************
;T_COND TARGET가 지정한 상태라면 진을 돌려준다
;-------------------------------------------------
;━━━━━━━━━━━━━━━━━━━━━━━━
;니토리님[피폐]화
;━━━━━━━━━━━━━━━━━━━━━━━━
IF 구상 기입 체크(0) && T_COND("피폐") && ! TFLAG:한번휴식
ENDIF

;━━━━━━━━━━━━━━━━━━━━━━━━
;니토리님[쇠약]화
;━━━━━━━━━━━━━━━━━━━━━━━━
IF 구상 기입 체크(0) && T_COND("쇠약") && ! TFLAG:한번휴식
ENDIF

;━━━━━━━━━━━━━━━━━━━━━━━━
;니토리님[무기력]화
;━━━━━━━━━━━━━━━━━━━━━━━━
IF 구상 기입 체크(0) && T_COND("무기력")
ENDIF

;━━━━━━━━━━━━━━━━━━━━━━━━
;니토리님[몽롱]화
;━━━━━━━━━━━━━━━━━━━━━━━━
IF 구상 기입 체크(0) && T_COND("몽롱")
ENDIF

;━━━━━━━━━━━━━━━━━━━━━━━━
;니토리님[정욕]화
;━━━━━━━━━━━━━━━━━━━━━━━━
IF 구상 기입 체크(0) && T_COND("정욕")
ENDIF

;━━━━━━━━━━━━━━━━━━━━━━━━
;니토리님[분노]화
;━━━━━━━━━━━━━━━━━━━━━━━━
IF 구상 기입 체크(0) && T_COND("분노")
ENDIF

;━━━━━━━━━━━━━━━━━━━━━━━━
;니토리님[싫증]화
;━━━━━━━━━━━━━━━━━━━━━━━━
IF 구상 기입 체크(0) && T_COND("지루함")
ENDIF

;━━━━━━━━━━━━━━━━━━━━━━━━
;니토리님[울적]화
;━━━━━━━━━━━━━━━━━━━━━━━━
IF 구상 기입 체크(0) && T_COND("울적")
ENDIF
;TALENT:광기가 있는 경우에게만 1/5의 확률로 울적화

;*************************************************
;EV22_1, 조교 대상 상태변화
;*************************************************
;M_COND MASTER가 지정한 상태라면 진을 돌려준다
;------------------------------------------------
;━━━━━━━━━━━━━━━━━━━━━━━━
;조교 대상[피폐]화
;━━━━━━━━━━━━━━━━━━━━━━━━
IF 구상 기입 체크(0) && M_COND("피폐") && ! TFLAG:한번휴식
ENDIF

;━━━━━━━━━━━━━━━━━━━━━━━━
;조교 대상[쇠약]화
;━━━━━━━━━━━━━━━━━━━━━━━━
IF 구상 기입 체크(0) && M_COND("쇠약") && ! TFLAG:한번휴식
ENDIF

;━━━━━━━━━━━━━━━━━━━━━━━━
;조교 대상[무기력]화
;━━━━━━━━━━━━━━━━━━━━━━━━
IF 구상 기입 체크(0) && M_COND("무기력")
ENDIF

;━━━━━━━━━━━━━━━━━━━━━━━━
;조교 대상[몽롱]화
;━━━━━━━━━━━━━━━━━━━━━━━━
IF 구상 기입 체크(0) && M_COND("몽롱")
ENDIF

;━━━━━━━━━━━━━━━━━━━━━━━━
;조교 대상[정욕]화
;━━━━━━━━━━━━━━━━━━━━━━━━
IF 구상 기입 체크(0) && M_COND("정욕")
ENDIF

;━━━━━━━━━━━━━━━━━━━━━━━━
;조교 대상[분노]화
;━━━━━━━━━━━━━━━━━━━━━━━━
IF 구상 기입 체크(0) && M_COND("분노")
ENDIF

;━━━━━━━━━━━━━━━━━━━━━━━━
;조교 대상[싫증]화
;━━━━━━━━━━━━━━━━━━━━━━━━
IF 구상 기입 체크(0) && M_COND("지루함")
ENDIF

;━━━━━━━━━━━━━━━━━━━━━━━━
;조교 대상[울적]화
;━━━━━━━━━━━━━━━━━━━━━━━━
IF 구상 기입 체크(0) && M_COND("울적")
ENDIF
[SKIPEND]

;────────────────────────────────────
;EV23, 조교 대상 능력치 업 구상
;────────────────────────────────────
;·조교중에 조교 대상의 능력치가 상승했을 때에 표시
;-------------------------------------------------
@KOJO_EVENT_K40_23(ARG)
;-------------------------------------------------
;인수 내역…
;ARG=(이번 상승한 ABL 번호/각 ARG 번호는 ABL의 거기에 상당)
;
;ARG:0 순종/1욕망/2기교/3 Ｃ감각/4 Ｖ감각/5 Ａ감각/6 Ｂ감각/7봉사정신/8노출증/9레즈끼/10ＢＬ끼/11마조끼
;12자위중독/13정액중독/14레즈중독/15고통중독/16구속중독
;
;ARG:20 회화/21애무/22도구/23성교/24수치/25봉사/26가학/27이상
;-------------------------------------------------
[SKIPSTART]
;━━━━━━━━━━━━━━━━━━━━━━━━
;조교 대상[순종]업
;━━━━━━━━━━━━━━━━━━━━━━━━
IF 구상 기입 체크(0) && ARG == 0
ENDIF

;━━━━━━━━━━━━━━━━━━━━━━━━
;조교 대상[욕망]업
;━━━━━━━━━━━━━━━━━━━━━━━━
IF 구상 기입 체크(0) && ARG == 1
ENDIF

;━━━━━━━━━━━━━━━━━━━━━━━━
;조교 대상[기교]업
;━━━━━━━━━━━━━━━━━━━━━━━━
IF 구상 기입 체크(0) && ARG == 2
ENDIF

;━━━━━━━━━━━━━━━━━━━━━━━━
;조교 대상[Ｃ감각]업
;━━━━━━━━━━━━━━━━━━━━━━━━
IF 구상 기입 체크(0) && ARG == 3
ENDIF

;━━━━━━━━━━━━━━━━━━━━━━━━
;조교 대상[Ｖ감각]업
;━━━━━━━━━━━━━━━━━━━━━━━━
IF 구상 기입 체크(0) && ARG == 4
ENDIF

;━━━━━━━━━━━━━━━━━━━━━━━━
;조교 대상[Ａ감각]업
;━━━━━━━━━━━━━━━━━━━━━━━━
IF 구상 기입 체크(0) && ARG == 5
ENDIF

;━━━━━━━━━━━━━━━━━━━━━━━━
;조교 대상[Ｂ감각]업
;━━━━━━━━━━━━━━━━━━━━━━━━
IF 구상 기입 체크(0) && ARG == 6
ENDIF
[SKIPEND]

;────────────────────────────────────
;EV24, 조교자 능력치 업 구상
;────────────────────────────────────
;·조교중에 조교자의 능력치가 상승했을 때에 표시
;-------------------------------------------------
@KOJO_EVENT_K40_24(ARG)
;-------------------------------------------------
;인수 내역…
;ARG=(이번 상승한 ABL 번호)
;
;ARG:0 순종/1욕망/2기교/3 Ｃ감각/4 Ｖ감각/5 Ａ감각/6 Ｂ감각/7봉사정신/8노출증/9레즈끼/10ＢＬ끼/11마조끼
;12자위중독/13정액중독/14레즈중독/15고통중독/16구속중독
;
;ARG:20 회화/21애무/22도구/23성교/24수치/25봉사/26가학/27이상
;-------------------------------------------------
[SKIPSTART]
;━━━━━━━━━━━━━━━━━━━━━━━━
;니토리님[욕망]업
;━━━━━━━━━━━━━━━━━━━━━━━━
IF 구상 기입 체크(0) && ARG == 1
ENDIF

;━━━━━━━━━━━━━━━━━━━━━━━━
;니토리님[기교]업
;━━━━━━━━━━━━━━━━━━━━━━━━
IF 구상 기입 체크(0) && ARG == 2
ENDIF

;━━━━━━━━━━━━━━━━━━━━━━━━
;니토리님[Ｃ감각]업
;━━━━━━━━━━━━━━━━━━━━━━━━
IF 구상 기입 체크(0) && ARG == 3
ENDIF

;━━━━━━━━━━━━━━━━━━━━━━━━
;니토리님[Ｖ감각]업
;━━━━━━━━━━━━━━━━━━━━━━━━
IF 구상 기입 체크(0) && ARG == 4
ENDIF

;━━━━━━━━━━━━━━━━━━━━━━━━
;니토리님[Ａ감각]업
;━━━━━━━━━━━━━━━━━━━━━━━━
IF 구상 기입 체크(0) && ARG == 5
ENDIF

;━━━━━━━━━━━━━━━━━━━━━━━━
;니토리님[Ｂ감각]업
;━━━━━━━━━━━━━━━━━━━━━━━━
IF 구상 기입 체크(0) && ARG == 6
ENDIF
[SKIPEND]

;────────────────────────────────────
;EV29, 굴복·고통각인에 의한 반항각인 상한 처리
;────────────────────────────────────
;·반항각인 Lv상한의 처리
;·반항각인은 10-(고통각인+굴복각인)/2를 넘지 않는다
;-------------------------------------------------
@KOJO_EVENT_K40_29(ARG)
;-------------------------------------------------
;%CALLNAME:TARGET%가 주는 쾌락\@ MARK:MASTER:고통각인? 라고 고통 # \@가%CNAME(MASTER, TARGET)%로부터 반항의 기력을 빼앗아 간다…
;반항각인은{MARK:반항각인}이 되었다
;-------------------------------------------------
;━━━━━━━━━━━━━━━━━━━━━━━━
;반항각인 상한 처리
;━━━━━━━━━━━━━━━━━━━━━━━━
;IF 구상 기입 체크(0)
;ENDIF

;========================================================================
;각인 취득 구상
;========================================================================
;·조교중에 각인을 취득시켰을 경우에 표시. 어느 레벨로 구상 표시할까는 가감(상태) 자유로운 것으로 개개로 조정하는 것이 바람직함
;·기입 체크가=1의 경우, 동시에 복수 취득했을 때는 이 파일로 맨 위의 것만을 표시한다
;·=2의 경우, 취득한 각인의 구상 모든 것을 위로부터 순서에 표시한다
;·각인 취득에 의한 소질 변동전에 표시하기 위해(때문에), 소질 취득/상실할까는 이 시점에서의 TALENT의 유무로 판정할 수 있다
;-------------------------------------------------
@KOJO_MARK_K40(ARG:0, ARG:1, ARG:2, ARG:3, ARG:4)
#DIM 기입체크
#DIM 모두순서에표시
모두순서에표시 = 0	;각인 취득 구상 「모두 순서에 표시」를 위한 초기화 처리
;-------------------------------------------------
;인수 내역…
;ARG:(각인 번호)=(이번 취득한 레벨)
;-------------------------------------------------
[SKIPSTART]
;━━━━━━━━━━━━━━━━━━━━━━━━
;[트라우마]취득
기입 체크 = 0	;0. 비표시/1. 동시에 취득한 각인을 이것 이하 표시하지 않는다/2. 모두 순서에 표시한다
;━━━━━━━━━━━━━━━━━━━━━━━━
IF 기입 체크 && ARG:4
	SETBIT 모두 순서에 표시, 4
	SELECTCASE ARG:4
		;트라우마 Lv1
		CASE 1
		;트라우마 Lv10…[겁쟁이]가 없는 경우, 그것을 얻는다
		;              이미[겁쟁이]가 있어[광기]가 없는 경우,[유치]가 있는 경우는 100%, 없는 경우는 1/3의 확률로[광기]를 얻는다
		;              [광기]의 취득 판정에 새어, 한편[유치]를 가지지 않는 경우,[유치]를 얻는다(유아 퇴행 한다)
		;              현상,[광기]와[유치]는 어느 쪽으로 구를까 먼저 판정할 방법은 없다(요망이 있으면…). 우선 머리가 이상해진다고 해석해 주세요
		CASE 10
		;표시하지 않는다
		CASEELSE
			CLEARBIT 모두 순서에 표시, 4
	ENDSELECT
	SIF GETBIT(모두 순서에 표시, 4) && 기입 체크 == 1
		RETURN 1
ENDIF

;━━━━━━━━━━━━━━━━━━━━━━━━
;[고통각인]취득
기입 체크 = 0	;0. 비표시/1. 동시에 취득한 각인을 이것 이하 표시하지 않는다/2. 모두 순서에 표시한다
;━━━━━━━━━━━━━━━━━━━━━━━━
IF 기입 체크 && ARG:0
	SETBIT 모두 순서에 표시, 0
	SELECTCASE ARG:0
		;고통각인 Lv2
		CASE 2
		;고통각인 Lv9…[기장]이 있는 경우, 그것을 잃는다
		CASE 9
		;표시하지 않는다
		CASEELSE
			CLEARBIT 모두 순서에 표시, 0
	ENDSELECT
	SIF GETBIT(모두 순서에 표시, 0) && 기입 체크 == 1
		RETURN 1
ENDIF

;━━━━━━━━━━━━━━━━━━━━━━━━
;[반항각인]취득
기입 체크 = 0	;(0, 비표시, 1, 동시에 취득한 각인을 이것 이하 표시하지 않는, 2, 모두 순서에 표시한다)
;━━━━━━━━━━━━━━━━━━━━━━━━
IF 구상 기입 체크(100) && ARG:3
	SETBIT 모두 순서에 표시, 3
	SELECTCASE ARG:3
		;반항각인 Lv2
		CASE 2
		;표시하지 않는다
		CASEELSE
			CLEARBIT 모두 순서에 표시, 3
	ENDSELECT
	SIF GETBIT(모두 순서에 표시, 3) && 기입 체크 == 1
		RETURN 1
ENDIF

;━━━━━━━━━━━━━━━━━━━━━━━━
;[굴복각인]취득
기입 체크 = 0	;(0, 비표시, 1, 동시에 취득한 각인을 이것 이하 표시하지 않는, 2, 모두 순서에 표시한다)
;━━━━━━━━━━━━━━━━━━━━━━━━
IF 기입 체크 && ARG:2
	SETBIT 모두 순서에 표시, 2
	SELECTCASE ARG:2
		;굴복각인 Lv2
		CASE 2
		;굴복각인 Lv7…[반항적]이 있는 경우, 그것을 잃는다
		CASE 7
		;굴복각인 Lv10…[프라이드높음]이 있는 경우, 그것을 잃는다
		CASE 10
		;표시하지 않는다
		CASEELSE
			CLEARBIT 모두 순서에 표시, 2
	ENDSELECT
	SIF GETBIT(모두 순서에 표시, 2) && 기입 체크 == 1
		RETURN 1
ENDIF

;━━━━━━━━━━━━━━━━━━━━━━━━
;[쾌락각인]취득
기입 체크 = 0	;(0, 비표시, 1, 동시에 취득한 각인을 이것 이하 표시하지 않는, 2, 모두 순서에 표시한다)
;━━━━━━━━━━━━━━━━━━━━━━━━
IF 기입 체크 && ARG:1
	SETBIT 모두 순서에 표시, 1
	SELECTCASE ARG:1
		;쾌락각인 Lv2
		CASE 2
		;쾌락각인 Lv5…[쾌감을부정]이 있는 경우, 그것을 잃는다
		CASE 5
		;쾌락각인 Lv7…[억압]이 있는 경우, 그것을 잃는다
		CASE 7
		;쾌락각인 Lv10…[쾌감에솔직]이 없는 경우, 그것을 얻는다
		CASE 10
		;표시하지 않는다
		CASEELSE
			CLEARBIT 모두 순서에 표시, 1
	ENDSELECT
	SIF GETBIT(모두 순서에 표시, 1) && 기입 체크 == 1
		RETURN 1
ENDIF

;각인 취득 구상 「모두 순서에 표시」를 위한 종단 처리
RETURN 모두 순서에 표시 != 0
[SKIPEND]