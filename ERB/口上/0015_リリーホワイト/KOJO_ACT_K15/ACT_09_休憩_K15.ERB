;_/_/_/_/_/_/_/_/_/_/_/_/_/_/_/_/_/_/_/_/_/_/_/_/#
;
;	[릴리 화이트]구상 휴게계 액션 구상 파일
;
;	휴게계 액션 구상을 정리한 파일
;
;_/_/_/_/_/_/_/_/_/_/_/_/_/_/_/_/_/_/_/_/_/_/_/_/#

;========================================================================
;휴게계 ACT90~92
;========================================================================
;·TFLAG:ACT(90=쉬게 한다/91=영양제를 먹인다/92=치료한다)
;·TFLAG:ACT 분류 == 9에 해당
;·범용 리액션에 대해서는 MENUMATCH(TFLAG:ACT, "휴게")로 참조하는 것이 가능
;·ACT91, 영양제를 먹이면 ACT92, 치료하는 것 발생에는 특정의 소질이 조건이 된다
;-------------------------------------------------
;·반환값(RESULT)에 대해
;·시스템측에서는 구상측의 RESULT(종단의 RETURN 1 등)에 의해 구상이 표시되었는지 아닌지,
;·또 개소 마다의 특유의 거동(미약등 구상을 스킵 따위)을 제어하고 있습니다
;·@구상 기입 체크의 경우 대입 처리를 생략 할 수 있습니다만, RESULT치는 구상측에서 결정하고 쳐 할 필요가 있습니다
;·특별한 이유가 없는 한, 텐프레로서는 RETURN 1을 기술해 둡니다
;-------------------------------------------------

;─
;ACT90, 쉬게 한다
;─
;·이 시점에서는 명령만
;·안면 승마계는 해제된다
;·구속계 TEQUIP(줄/아이마스크/볼개그/삼각 목마)는 해제된다
;·더러움은 리셋트 된다
;·조교자, 조교 대상의 자위는 중단
;·리액션이 "자위하기 시작한다"(이었)였던 경우 "마음대로 자위를하기 시작했다"에 파생한다
;·지속계 도구(바이브/애널 바이브/애널 비즈/관장기＋플러그/니플캡) 장착시는
;·도구의 탓으로 너무 쉬게 하지 않았다에 파생한다
;-------------------------------------------------
@KOJO_ACT_K15_90
;구상 독자 내부 처리
CALL DECIDEACTCHECK_K15
;-------------------------------------------------
;·TFLAG:ACT 파생(0=보통으로 쉰/1=도구의 탓으로 너무 쉬게 하지 않았다/2=마음대로 자위를하기 시작했다)
;※ACT 파생에의 대입은@ACTION_APPLY2_90으로 행해져 이것을 참조할 수 있는 것은 REACT 이후(즉, ACT에서는 참조는 할 수 없다)
;-------------------------------------------------
;━━━━━━━━━━━━━━━━━━━━━━━━
;ACT90, 쉬게 한다
;━━━━━━━━━━━━━━━━━━━━━━━━
;·지문에 분기 없음. 내용은 이하와 같다
;·%CALLNAME:TARGET%는 %CALLNAME:MASTER%를 쉬게 하고 자신도 쉬려고 했다…
;-------------------------------------------------
IF 구상기입체크(0)
	;=================================================
	;도구 장착중의 경우			REACT 이후에 TFLAG:ACT 파생 == 1이 된다
	;=================================================
	IF 구상기입체크(0) && TRUECHECK(TEQUIP:바이브, TEQUIP:애널바이브, TEQUIP:애널비즈, TEQUIP:관장기＋플러그, TEQUIP:니플캡) > 0
		PRINTFORMW 
		RETURN 1
	ENDIF
	
	;=================================================
	;그 외·조건 없음
	;=================================================
	IF 구상기입체크(0)
		PRINTFORMW 
		RETURN 1
	ENDIF
ENDIF

;─
;ACT91, 영양제를 먹인다
;─
;·이 시점에서는 명령만
;·조교 대상의 리액션이 "거부한다"(이었)였던 경우는 "영양제를 버렸다"에 파생한다
;·그 외의 반응의 경우는 "영양제를 마셨다"취급이 된다
;·조교자에게 TALENT:약학지식이 없는 경우는 발생하지 않는다(약학지식 자체는 SHOP에서의 구입이 가능)
;·미약을 사용하는 일도 있다
;·TEQUIP(볼개그/삼각 목마)는 해제된다
;·안면 승마계, 자위계는 해제된다
;-------------------------------------------------
@KOJO_ACT_K15_91
;구상 독자 내부 처리
CALL DECIDEACTCHECK_K15
;-------------------------------------------------
;·TFLAG:ACT 파생(0=영양제를 마신/1=영양제를 버렸다)
;※ACT 파생에의 대입은@ACTION_APPLY2_91으로 행해져 이것을 참조할 수 있는 것은 REACT 이후(즉, ACT에서는 참조는 할 수 없다)
;-------------------------------------------------
;━━━━━━━━━━━━━━━━━━━━━━━━
;ACT91, 영양제를 먹인다
;━━━━━━━━━━━━━━━━━━━━━━━━
;·지문에 분기 없음. 내용은 이하와 같다
;·%CALLNAME:TARGET%는 특제의 영양제를 꺼내 %CALLNAME:MASTER%에 먹이려고 했다…
;-------------------------------------------------
IF 구상기입체크(0)
	;미약등 사용 지문은 ACT_MESSAGE_OTHERS.ERB내@USE_MESSAGE로부터 불려 간다
	;%CALLNAME:TARGET%는 %CALLNAME:MASTER%에 미약을 사용했다… 와 어디까지나 범용 처리인 것으로 미약들이 영양제라고 하는 취급은 아니다
	;TFLAG:미약등 사용 지문 스킵의 비트를 클리어 하는 일로 죽일 수 있으므로 필요에 따라서 구상측에서 날조 해도 될 것입니다
	;=================================================
	;미약을 병용
	;=================================================
	IF 구상기입체크(0) && GETBIT(TFLAG:미약등사용, 1)
		CLEARBIT TFLAG:미약등사용구상, 1
		;미약사용의 추가 지문을 죽일 때는 "미약등 사용 지문 스킵"의 코멘아우트를 해제
		;CLEARBIT TFLAG:미약등 사용 지문 스킵, 1
		PRINTFORMW 
		RETURN 2
		;반환값 2인 경우는@KOJO_USE_KX(미약등 사용 구상)를 호출하지 않는다
	ENDIF
	
	;=================================================
	;그 외·조건 없음
	;=================================================
	IF 구상기입체크(0)
		PRINTFORMW 
		RETURN 1
	ENDIF
ENDIF

;─
;ACT92, 치료한다
;─
;·조교자가 조교 대상을 치료하려고 한다
;·REACT 분류가 "날뛴다"(이었)였던 경우는 "날뛰었기 때문에 치료 할 수 없었다"에 파생한다
;·그 외의 경우는 "몸의 구석구석까지 더듬어 치료했다"라고 하는 취급
;·조교자에게 TALENT:치료가 없으면 발생하지 않는다
;·미약을 사용하는 일도 있다
;·TEQUIP:삼각 목마는 해제된다
;·안면 승마계, 자위계는 해제된다
;-------------------------------------------------
@KOJO_ACT_K15_92
;구상 독자 내부 처리
CALL DECIDEACTCHECK_K15
;-------------------------------------------------
;·TFLAG:ACT 파생(0=몸의 구석구석까지 더듬어 치료한/1=날뛰었기 때문에 치료 할 수 없었다)
;※ACT 파생에의 대입은@ACTION_APPLY2_92로 행해져 이것을 참조할 수 있는 것은 REACT 이후(즉, ACT에서는 참조는 할 수 없다)
;-------------------------------------------------
;━━━━━━━━━━━━━━━━━━━━━━━━
;ACT92, 치료한다
;━━━━━━━━━━━━━━━━━━━━━━━━
;·지문에 분기 없음. 내용은 이하와 같다
;·%CALLNAME:TARGET%는 %CALLNAME:MASTER%를 치료하려고 했다…
;-------------------------------------------------
IF 구상기입체크(0)
	;=================================================
	;미약을 병용
	;=================================================
	IF 구상기입체크(0) && GETBIT(TFLAG:미약등사용, 1)
		CLEARBIT TFLAG:미약등사용구상, 1
		;미약사용의 추가 지문을 죽일 때는 "미약등 사용 지문 스킵"의 코멘아우트를 해제
		;CLEARBIT TFLAG:미약등 사용 지문 스킵, 1
		PRINTFORMW 
		RETURN 2
		;반환값 2인 경우는@KOJO_USE_KX(미약등 사용 구상)를 호출하지 않는다
	ENDIF
	
	;=================================================
	;그 외·조건 없음
	;=================================================
	IF 구상기입체크(0)
		PRINTFORMW 
		RETURN 1
	ENDIF
ENDIF



