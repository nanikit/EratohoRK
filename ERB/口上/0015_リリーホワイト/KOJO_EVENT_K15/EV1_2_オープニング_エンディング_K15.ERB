;_/_/_/_/_/_/_/_/_/_/_/_/_/_/_/_/_/_/_/_/_/_/_/_/#
;
;	[릴리 화이트]구상 오프닝, 엔딩 구상 파일
;
;	오프닝, 엔딩 이벤트 구상의 파일
;
;_/_/_/_/_/_/_/_/_/_/_/_/_/_/_/_/_/_/_/_/_/_/_/_/#

;========================================================================
;EV1, 오프닝 구상
;========================================================================
;·구상주(TARGET)가 주인인 경우에게만 표시된다
;·반환값을 2로 했을 경우는 OP 후의 본체측의 타이틀 로고는 표시되지 않는다
;·노멀 모드 이외의 경우, 조교 대상이 NO:MASTER == 0(당신)(이)가 아닐 가능성 있어
;-------------------------------------------------
;관련 변수…
;FLAG:모드(0=통상/1=샌드 박스/9=엑스트라)
;-------------------------------------------------
@KOJO_EVENT_K15_1(ARG)
;-------------------------------------------------
;CNAME나 CSTR:소환가능조수, 그 외 각종 대입에 향한 개소의 1개입니다
;커맨드 봉인도 개별적으로 가능합니다만, 본체측의 의향으로서(일단) 은폐 기능으로 하고 싶다고 말하는 사정도 있어
;아는 사람은 부디, 라고 하는 일로 해설은 하지 않을 방향으로
;-------------------------------------------------
;구상을 표시한 다음, 종단을 RETURN 0으로 하는 일로 본체측의 범용 OP에 건네주는 일도 가능했다거나 합니다
;범용 OP에 날렸을 때는 타이틀 로고가 표시됩니다
;-------------------------------------------------
;━━━━━━━━━━━━━━━━━━━━━━━━
;노멀 모드시
;RESULT치(1, OP를 표시한 후 본체의 타이틀 로고를 표시/2, 본체의 타이틀 로고를 표시하지 않는다)
;━━━━━━━━━━━━━━━━━━━━━━━━
IF 구상기입체크(0) && !FLAG:모드
	;-------------------------------------------------
	;우선 필요할 것 같은 것을 예로서 놓아둡니다
	;실제로 어떻게 취급할까는, 기존의 구상을 보여 받으면 알까하고
	
	;소환가능조수 대입		이하의 예의 경우, 레이무와 마리사만 마력 사용으로 부를 수가 있다
	;CSTR:소환가능조수 =레이무/마리사/
	
	;MASTER의 통칭 대입		이하의 예의 경우, MASTER의 통칭은 당신이 된다
	;CSTR:(TARGET):호칭목록 = %NAME:MASTER%_당신/%CSTR:(TARGET):호칭목록%
	;다른 개소(예를 들면 EVENT11) 등에서 조건식을 짜 INPUT를 얽히게 할 수 있어 대입, 이라고 하는 일도 가능
	
	;캐릭터 컷 인 CSV로 정의된 것이 불린다. CSVCSTR로 임의의 캐릭터의 컷 인을 부르는 일도 가능
	;CALL CHARA_CUTIN(CSTR:이명, CSTR:등장명, CSTR:로마자)
	
	;BGM 컷 인(CSTR:곡 1, CSTR:곡 2로 캐릭터 CSV로 정의된 것을 불러, 직접 기술하는 일로 임의의 내용으로 변경하는 일도 할 수 있다)
	;CALL BGM_CUTIN(CSTR:곡 1)
	;-------------------------------------------------
	PRINTFORMW ………
	PRINTFORMW ……
	PRINTFORMW …
	PRINTFORMW 
	PRINTL  
	PRINTL  
	;상대가 대짱
	IF NO:TARGET == 4
		PRINTFORMW 「저기, 대짱…… 이것, 무엇입니까?」
		PRINTL  
		PRINTFORMDW 두 사람이 호경계로 찾아낸 것은, 1권이 오래된 일기였다
		PRINTFORMDW 더러움이 심하고 읽을 수 없는 개소도 많았지만, 일기의 소유자가 무엇을 하고 있었는지는 막연히 이해할 수가 있었다
		PRINTL  
		PRINTFORMDW 그것은, 『당신』과 『소녀』의 이야기……
		PRINTFORMDW 두 사람의 다음의 놀이가 정해진 순간, 운명의 톱니바퀴가 미치기 시작했다……
		PRINTL  
		PRINTFORMW 「대짱…… 우응, 『당신』일까?」
		PRINTFORMW 「그래, 『당신』과 『릴리』의 이야기……」
		PRINTL  
		PRINTFORMDW 시작할까요……
		RETURN 1
	ENDIF
	
	;오프닝 시나리오
	$INPUT_LOOP3
	PRINTFORMDL 오프닝을 봅니까
	PRINTFORMDL [1]본다
	PRINTFORMDL [2]날린다
	INPUT
	IF RESULT == 1
		PRINTL  
		PRINTFORMDW ………
		PRINTL  
		PRINTFORMDW ……
		PRINTL  
		PRINTFORMDW …
		PRINTL  
	ELSEIF RESULT == 2
		GOTO SKIP_OPENING
	ELSE
		GOTO INPUT_LOOP3
	ENDIF
	;↓OP구상 개시
	PRINTL  	
	PRINTFORMDW   오프닝 플롯(예정)
	PRINTL  	
	PRINTFORMDW   당신은 낯선 방에서 눈을 뜹니다.
	PRINTFORMDW   다다미 4장 반정도의 작은 방에는 들창의 작은 작은 창이 1개, 당신이 자고 있던 침대 외에 특히 두드러진 것은 눈에 띄지 않습니다.
	PRINTFORMDW   몸 하나만 달랑, 짐은 모두 침대 옆의 테이블 위에 놓여져 있습니다.
	PRINTFORMDW   당신은 자신이 왜 여기에 있는지 생각해 낼 수 없습니다.
	PRINTFORMDW   당신이 집주인에 이야기를 들으려고 방을 나오면, 어린 소녀가 웃는 얼굴로 달려들어 왔습니다.
	PRINTFORMDW   순백의 로브에 갖춤의 삼각 모자, 금발의 긴 염발에 물들여진 사랑스러운 작은 얼굴, 그 등에 희미하게 빛나는 요정의 날개.
	PRINTFORMW 「앗… 좋았다, 깨어난 것이군요?」
	PRINTFORMW 「갑자기 넘어지기 때문에 걱정했어요」
	PRINTFORMDW   그녀의 얼굴을 본 순간, 당신은 어제밤 일어난 일을 생각해 냈습니다.
	PRINTFORMDW   산채 뽑으러 나간 돌아가는 길, 당신은 이 요정에 만난 것입니다.
	PRINTFORMDW   요정 싫어 알려진 아큐 여사로 해 『그 모습을 보기 시작하는 것은 길조이다』라고 말하게 하는 만큼으로,
	PRINTFORMDW   붙임성이 있고, 특히 꽃집에는 길들임을 되는 만큼 귀여워해지고 있는 요정――릴리 화이트.
	PRINTFORMDW   그 릴리가 나무의 그늘에 몸을 숨기도록(듯이)해 주저앉아, 양손으로 자신의 어깨를 안아 덜컹덜컹떨고 있던 것입니다.
	PRINTFORMDW 　
	PRINTL  
	;↑OP구상 종료(구상 체크 잊지 않고)
	$SKIP_OPENING
	RETURN 1
ENDIF

;장래적으로 다른 모드가 추가되었을 경우는 FLAG:모드를 결정하고 쳐 하는 것이 좋을지도 모릅니다
;━━━━━━━━━━━━━━━━━━━━━━━━
;노멀 모드 이외의 경우
;RESULT치(1, OP를 표시한 후 본체의 타이틀 로고를 표시/2, 본체의 타이틀 로고를 표시하지 않는다)
;━━━━━━━━━━━━━━━━━━━━━━━━
IF 구상기입체크(0) && FLAG:모드 > 0
	PRINTFORMW 
	RETURN 1
ENDIF

;========================================================================
;EV2, 엔딩 이벤트 구상
;========================================================================
;·개시 30일 이후, 일시의 갱신시에 시스템측으로부터 EVENT2가 불려 간다
;·반환값 1이상이 돌아가면 본체측에서 FLAG:END달성가 서, 이후는 시스템측에서 불려 가는 일은 없다
;·이전에는 반환값 1이외는 FLAG:END달성가 서지 않는 사양이었지만, 현재는 RESULT > 0이라면 플래그가 서게 되어 있습니다
;·필요에 따라서 FIRSTEVENT를 사용해 두면 만일의 보험으로는 되고, 사양 변경에도 강합니다
;-------------------------------------------------
;  최단에 불려 가는 것이 30일이라고 할 뿐(만큼)인 것으로, 그 외의 부분에서는 구상측에서 임의에 조건 설정이 가능합니다
;  IF 구상 기입 체크() &&로 조건으로 단락짓든지, IF 구상 기입 체크()로 상당히기로 한 다음, 소분기내에서 개별적으로 조건 설정도 할 수 있습니다
;  계층 이벤트 형식으로 해 표시시킨 다음 RETURN 0. 마지막에 RETURN 1으로. 어떤일도 가능한 것은 않거나
;  가능성은 무한하게 있으므로, 조건 설정은 각 구상 작자에게 맡기고 싶다고 생각합니다
;-------------------------------------------------
@KOJO_EVENT_K15_2(ARG)
;-------------------------------------------------
;장래적으로는 CFLAG:의존도에 의한 본체측의 ED분기 같은거 말하는 대용품의 구상도 있거나
;그 때에는, 본체측의 처리를 부른다/죽이는 것도 구상측에서 임의로 설정이 가능이라고 하는 방향성
;라고는 해도, 언제가 되는지, 실현될지도 확실하지 않기 때문에, 현상은 각자 노력해 주세요라고 하는 일로
;-------------------------------------------------
;━━━━━━━━━━━━━━━━━━━━━━━━
;엔딩
;━━━━━━━━━━━━━━━━━━━━━━━━
IF 구상기입체크(0) && KFLAG:3 == 0 && FLAG:오토모드표시설정 == 0 && FIRSTEVENT(0)
		PRINTFORMW ………
		PRINTFORMW ……
		PRINTFORMW …
		PRINTFORMW 
	$INPUT_LOOP5
		PRINTFORMDL 엔딩을 봅니까
		PRINTFORMDL [1]본다
		PRINTFORMDL [2]날린다(속행 분기와 등가)
		INPUT
	IF RESULT == 1
		PRINTL  
		PRINTFORMDW ………
		PRINTL  
		PRINTFORMDW ……
		PRINTL  
		PRINTFORMDW …
		PRINTL  
	ELSEIF RESULT == 2
		GOTO SKIP_ENDING
	ELSE
		GOTO INPUT_LOOP5
	ENDIF

	;-------------------------------------------------
	;대리리엔드(EX)
	;-------------------------------------------------
	IF NO:MASTER == 4
		PRINTFORMW 「저기 대짱, 오늘이 무슨 일인가 압니까?」
		PRINTFORMW 「약속이었다, 마지막 날……」
		PRINTFORMW 「즉, 대짱이 자유롭게 될 수 있는 날입니다!!」
		PRINTFORMW 「이렇게 말해도…… 태양이 뜰 때까지는, 아직 릴리의 노예씨이지만요♪」
		PRINTL  
		PRINTFORMW 「밤은…… 어둡고, 차가와서, 외롭고…… 훨씬 무서웠던 것입니다……」
		PRINTFORMW 「릴리 혼자라면…… 인내 할 수 없어서 울어 버리는지, 이불에 기어들어 떨고 있었다고 생각합니다」
		PRINTFORMW 「그렇지만 최근에는 밤의 시간도 즐거워서…… 내일은 무엇을 해 주자, 대짱은 어떤 반응을 할 것이다 라고,
		PRINTFORMW   그런 일을 생각하면서, 어느새인가 자 버려 있어…… 일어나면 옆에 대짱이 있어 줘……」
		PRINTFORMW 「……… 응, 매우 즐거웠던 것입니다」
		PRINTL  
		PRINTFORMW 「…… 하늘, 조금 희어졌어요」
		PRINTFORMW 「이런 시간까지 일어나고 있던 것 처음이니까, 왠지 신선한 느낌입니다♪」
		PRINTFORMW 「대짱은 어떻습니까?  역시 처음의 광경입니까?」
		PRINTFORMW 「…… 신체가 아파서 일어난 일이 있는, 입니까……」
		PRINTFORMW 「…… 엉뚱한 일도 가득 했습니다…… 미안합니다……」
		PRINTFORMW 「…… 그렇게, 군요……」
		PRINTL  
		PRINTFORMW 「오렌지색의 광…… 릴리들의 정말 좋아하는, 태양의 빛이군요……」
		PRINTFORMW 「이제 곧, 밤이 끝나 버린다……」
		PRINTL  
		PRINTFORMW 「저…… 부탁이 있습니다만, 아침이 오면 가르쳐 받을 수 있습니까?」
		PRINTFORMW 「밤은 역시 무서워서…… 이불에 기어들고 있고 싶은 기분입니다……」
		PRINTL  
		PRINTFORMW 「…… 저기, 대짱…… 하늘을 보여 받을 수 있습니까?」
		PRINTFORMW 「아직, 밤입니까?   그렇지 않으면, 이제(벌써) 아침이 되어 버렸습니까?」
		PRINTL  
		PRINTFORMW 「…… 저기, 대짱…… 아직, 거기에 있습니까?」
		PRINTL  
		PRINTFORMW 「대짱은…… 릴리의 것…… 에,… 인가…………?」
		PRINTL  
		PRINTFORMDW 나는……
		PRINTL  
		PRINTFORMDW ………
		PRINTFORMDW ……
		PRINTFORMDW …
		PRINTL  
		PRINTFORMDW ENDING  NO. EX
		PRINTFORMDW 　　- 『하루카와 함께』-
		PRINTW  
		PRINTL  
		PRINTL  

	;-------------------------------------------------
	;조수＆상사상애 엔드(3·4)
	;(호의 3000이상·호감도 3000이상)
	;-------------------------------------------------
	ELSEIF FAVOR(3000, 3000) && !TALENT:TARGET:주인님
		PRINTFORMW 「」
		;당신에 선택을 강요한다
		$ENDING_LOOP1
		PRINTFORMDL [1]%CNAME((FLAG:주인님), TARGET)%
		PRINTFORMDL [2]릴리
		INPUT
		IF RESULT != 1 && RESULT != 2
			GOTO ENDING_LOOP1
		;본래의 주인님과 살아간다
		ELSEIF RESULT == 1
			PRINTFORMDW %CALLNAME:MASTER%는,%CNAME((FLAG:주인님), TARGET)%를 선택했다…
			PRINTFORMW 「무엇을 하면 좋은 것인지…… 알까요?」
			PRINTL  
			PRINTFORMDW %CALLNAME:MASTER%는, 그녀가 말하고 있는 것이, 잘 모른다
			;넘버
			PRINTL  
			PRINTFORMDW ENDING  NO. 3  『릴리의 반려』
			PRINTW  
			PRINTL  
			PRINTL  
		;릴리를 선택한다
		ELSE
			PRINTFORMDW %CALLNAME:MASTER%는, 릴리를 선택했다.
			;넘버
			PRINTW  
			PRINTFORMDW ENDING  NO. 4  『릴리의 신부』
			PRINTW  
			PRINTL  
			PRINTL  
		ENDIF

	;-------------------------------------------------
	;주인님＆상사상애 엔드(1, 2)
	;(호의 3000이상·호감도 3000이상)
	;-------------------------------------------------
	ELSEIF FAVOR(3000, 3000) && TALENT:TARGET:주인님
		PRINTFORMDW 아침,%CALLNAME:MASTER%가 눈을 뜨면 릴리의 모습이 눈에 비쳤다.
		PRINTFORMDW 그것은 보아서 익숙한, 사랑스러운 청초한 모습에 몸을 싼,
		PRINTFORMDW %CALLNAME:MASTER%는……
		;당신에 선택을 강요한다
		$ENDING_LOOP2
		PRINTFORMDL [1]이대로 릴리의 것이 되고 싶다
		PRINTFORMDL [2]빨리 릴리로부터 해방되고 싶다
		INPUT
		IF RESULT != 1 && RESULT != 2
			GOTO ENDING_LOOP2
		;릴리와 살아간다
		ELSEIF RESULT == 1
			PRINTL  
			PRINTFORMDW %CALLNAME:MASTER%는, 릴리에의 예속을 바랐다.
			PRINTFORMW 「앞으로도…… 잘 부탁드릴게요……%CNAME(MASTER)%♪」
			;넘버
			PRINTW  
			PRINTFORMDW ENDING  NO. 3  『요정씨의 사는 목적』
			PRINTW  
			PRINTL  
			PRINTL  
		;자유를 바란다
		ELSE
			PRINTL  
			PRINTFORMDW %CALLNAME:MASTER%는, 릴리로부터의 해방을 바랐다.
			PRINTFORMW 「행복하게…… 될 수 있으면 좋다,%CNAME(MASTER)%♪」
			;넘버
			PRINTW  
			PRINTFORMDW ENDING  NO. 4  『요정씨의 살 방법』
			PRINTW  
			PRINTL  
			PRINTL  
			PRINTFORMDW 종료합니다
			QUIT
		ENDIF
		;쓰면 구상 체크 잊지 않고
	;-------------------------------------------------
	ENDIF
	$SKIP_ENDING
	KFLAG:3 = 1


	;반환값은 1으로 결정하고 쳐 둡니다
	RETURN 1
ENDIF


