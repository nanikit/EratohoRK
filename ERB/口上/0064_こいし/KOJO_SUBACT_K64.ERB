;_/_/_/_/_/_/_/_/_/_/_/_/_/_/_/_/_/_/_/_/_/_/_/_/#
;
;	こいし口上 追加アクション口上ファイル
;
;	調教者が調教指示以外に行う行動のファイル
;
;Version		Reason
;0.01			アリス口上 追加アクション口上ファイルVersion1.67をベースに再構築
;
;_/_/_/_/_/_/_/_/_/_/_/_/_/_/_/_/_/_/_/_/_/_/_/_/#

;*************************************************
;調教アクション・コマンド口上
;*************************************************

;=================================================
;脱衣アクション口上
;=================================================
;・調教者アクションの前に強制脱衣や自主脱衣が発生したときに表示
;・この口上の時点ではまだTEQUIPは更新されていない
;・初回分岐は「初めて見た/見せた」とは限らない。
;　ショップメニューで脱がせたことがあるかもしれないし、調教の流れで完全に脱がせずに露出だけしている場合もある。
;　もしかすると助手だったときに見たことがあるかもしれない。そういう意味では簡易的なものである。
;　厳密な意味での「初見」フラグを用意するかどうかは要望次第ということで。
;-------------------------------------------------
;memo
;・記載が消えていたから仕様変更されたものかと思っていたら、どうもコード的には助手が[ご主人様]の場合の特殊処理が残っている雰囲気
;・実際に動かして確認はしていないが、変わっていなければ以下のような動きになるはず
;・調教者が脱がせる場合→助手が[ご主人様]だと調教者の脱衣サポート口上を呼ぶ。そうでなければ調教者の脱衣口上(ここ)を呼ぶ
;・助手が脱がせる場合→助手が[ご主人様]だと助手の脱衣口上(ここ)を呼ぶ。そうでなければ助手の脱衣サポート口上を呼ぶ
;・この特殊処理の際は、一時的にTARGETとASSIが入れ替わるので、この口上の口上主は常にTARGETであることが保証される
;・つまりこの口上は調教者の強制/自主脱衣時だけでなく、助手の脱衣サポートでも呼ばれることがある。いいね？
;・そして助手口上は基本的に右寄せで表示されるので、この口上も右寄せになる場合がある。ここがポイント
;・右寄せな上、台詞や地の文の折り返しが発生するなどして、レイアウト的に崩れる部分が出ないか注意すべし。テスト重点な
;・そうでなくとも折り返しが発生するような長文は…適度な改行が…その…どうなの？
;・面倒なら立場限定で回避しちゃうのも手かも？
;=================================================
@KOJO_DATUI_K64
;=================================================
;-------------------------------------------------
;関連変数…
;強制脱衣：TFLAG:102　自主脱衣：TFLAG:103
;=(-1, 強制脱衣に抵抗、1, 上着、2, 下半身上着、3, 上衣、4, 上半身全部、5, 下半身全部、
;　6, アクセサリー、7, アクセサリー以外全て、8, 全裸まで、9, 下着だけ)
;-------------------------------------------------
;━━━━━━━━━━━━━━━━━━━━━━━━
;強制脱衣に抵抗された FIRSTDATUI(0)
;━━━━━━━━━━━━━━━━━━━━━━━━
IF 口上記入チェック() && TFLAG:強制脱衣 < 0
	;=================================================
	;初回
	;=================================================
	IF 口上記入チェック() && FIRSTDATUI(0)
		PRINTFORMW 「あれ、%K64_CNAME()%どうして邪魔するの？」
		IF TALENT:MASTER:オトコ
			PRINTFORMW 「見られて恥ずかしいような粗末なモノでもぶらさがってるの？」
			PRINTFORMW 「…%K64_CNAME()%はペットなんだから、あまりわがままを言ってはダメよ」
		ELSE	;ふたなり/女の子
			IF ASSISTALENT(GETNUM(TALENT, "オトコ")) >= 0	;助手にオトコがいる。この仕様は今のところ消えてる
				PRINTFORMW 「あ、%K64_CNAME(ASSISTALENT(GETNUM(TALENT, "オトコ")))%が見てるから恥ずかしいの？」
				PRINTFORMW 「…そっか…まずはそこから躾けないとダメなのね」
			ELSE
				PRINTFORMW 「別に女の子同士なんだから、恥ずかしがることないのに…」
				PRINTFORMW 「ましてや、%K64_CNAME()%はペットなんだからさぁ…」
			ENDIF
		ENDIF
		RETURN 1
	ENDIF
	
	;=================================================
	;自分は脱いだ
	;=================================================
	IF 口上記入チェック() && TFLAG:自主脱衣
		PRINTFORMW 「ちょっと、私だけ脱いで%K64_CNAME()%は脱がないってどういうことなの？」
		PRINTFORMW 「それってズルくない？」
		RETURN 1
	ENDIF
	
	;-------------------------
	;その他
	;-------------------------
	SELECTCASE RANDDATUI(2, 0)
		CASE 0
			PRINTFORMW 「うーん、服を脱がすだけでそんなに抵抗するなんて…」
			PRINTFORMW 「これじゃ先が思いやられるなぁ…」
		CASEELSE
			PRINTFORMW 「またそうやって邪魔する～！」
			PRINTFORMW 「ご主人様に肌を晒すのがそんなに嫌？」
			PRINTFORMW 「………ま、それはそれで楽しめそうだけどね♪」
	ENDSELECT
	RETURN 1
ENDIF

;・主にセックス系行動の予備動作で発生する
;━━━━━━━━━━━━━━━━━━━━━━━━
;二人とも何か脱いだ FIRSTDATUI(1)
;━━━━━━━━━━━━━━━━━━━━━━━━
IF 口上記入チェック(0) && TFLAG:強制脱衣 > 0 && TFLAG:自主脱衣 && !IS_NOWASSIACTNAME(ASSI, "脱衣")
	;=================================================
	;初回
	;=================================================
	IF 口上記入チェック(0) && TALENT:TARGET:ご主人様 && FIRSTDATUI(1)
		PRINTFORMW 
		RETURN 1
	ENDIF
	
	;=================================================
	;調教者が[情欲]かつ全裸になった
	;=================================================
	IF 口上記入チェック(0) && T_COND("情欲") && ZENRACHECK(0)
		PRINTFORMW 
		RETURN 1
	ENDIF
	
	;=================================================
	;調教者が調教対象を溺愛
	;=================================================
	IF 口上記入チェック(0) && AFFECTION("溺愛")
		PRINTFORMW 
		RETURN 1
	ENDIF
	
	;-------------------------
	;その他
	;-------------------------
	PRINTFORMW 
	RETURN 1
ENDIF

;・主に靴下。他には手袋や袖など
;━━━━━━━━━━━━━━━━━━━━━━━━
;自主脱衣・アクセサリーのみ FIRSTDATUI(2)
;━━━━━━━━━━━━━━━━━━━━━━━━
IF 口上記入チェック(0) && TFLAG:自主脱衣 == 6 && !IS_NOWASSIACTNAME(ASSI, "脱衣")
	;=================================================
	;初回
	;=================================================
	IF 口上記入チェック(0) && FIRSTDATUI(2)
		PRINTFORMW 
		RETURN 1
	ENDIF
	
	;=================================================
	;全裸になった（脱ぐ前は靴下以外裸とかそういう感じ）
	;=================================================
	IF 口上記入チェック(0) && ZENRACHECK(0)
		PRINTFORMW 
		RETURN 1
	ENDIF
	
	;-------------------------
	;その他
	;-------------------------
	PRINTFORMW 
	RETURN 1
ENDIF

;・今回の脱衣で性器が見えるようになった場合に表示
;・ぱんつ見せを経由せず一気に脱ぐ場合あり
;━━━━━━━━━━━━━━━━━━━━━━━━
;自主脱衣・まんまんうｐ FIRSTDATUI(3)
;━━━━━━━━━━━━━━━━━━━━━━━━
IF 口上記入チェック(0) && TFLAG:自主脱衣 && P_DATUICHECK(0) == 3 && !IS_NOWASSIACTNAME(ASSI, "脱衣")
	;=================================================
	;初回
	;=================================================
	IF 口上記入チェック(0) && FIRSTDATUI(3)
		PRINTFORMW 
		RETURN 1
	ENDIF
	
	;=================================================
	;すでに胸が見えてる
	;=================================================
	IF 口上記入チェック(0) && B_DATUICHECK(0) == 1
		PRINTFORMW 
		RETURN 1
	ENDIF
	
	;=================================================
	;ちんこうｐ
	;=================================================
	IF 口上記入チェック(0) && PENIS(TARGET)
		PRINTFORMW 
		RETURN 1
	ENDIF
	
	;-------------------------
	;その他
	;-------------------------
	PRINTFORMW 
	RETURN 1
ENDIF

;・今回の脱衣でおっぱいが見えるようになった場合に表示
;・ブラ見せを経由せず一気に脱ぐ場合あり
;━━━━━━━━━━━━━━━━━━━━━━━━
;自主脱衣・おっぱいうｐ FIRSTDATUI(4)
;━━━━━━━━━━━━━━━━━━━━━━━━
IF 口上記入チェック(0) && TFLAG:自主脱衣 && B_DATUICHECK(0) == 3 && !IS_NOWASSIACTNAME(ASSI, "脱衣")
	;=================================================
	;初回
	;=================================================
	IF 口上記入チェック(0) && FIRSTDATUI(4)
		PRINTFORMW 
		RETURN 1
	ENDIF
	
	;=================================================
	;すでに性器が見えてる
	;=================================================
	IF 口上記入チェック(0) && P_DATUICHECK(0) == 1
		PRINTFORMW 
		RETURN 1
	ENDIF
	
	;-------------------------
	;その他
	;-------------------------
	PRINTFORMW 
	RETURN 1
ENDIF

;・今回の脱衣でパンティ（キャラによってドロワーズ・トランクス）が見えるようになった場合に表示
;・下半身下着の無いキャラは書く必要なし
;━━━━━━━━━━━━━━━━━━━━━━━━
;自主脱衣・ぱんつ見せ FIRSTDATUI(5)
;━━━━━━━━━━━━━━━━━━━━━━━━
IF 口上記入チェック(0) && TFLAG:自主脱衣 && P_DATUICHECK(0) == 2 && !IS_NOWASSIACTNAME(ASSI, "脱衣")
	;=================================================
	;初回
	;=================================================
	IF 口上記入チェック(0) && FIRSTDATUI(5)
		PRINTFORMW 
		RETURN 1
	ENDIF
	
	;-------------------------
	;その他
	;-------------------------
	PRINTFORMW 
	RETURN 1
ENDIF

;・今回の脱衣でブラ（キャラによってスポーツブラ・サラシ）が見えるようになった場合に表示
;・上半身下着の無いキャラは書く必要なし
;━━━━━━━━━━━━━━━━━━━━━━━━
;自主脱衣・ブラ見せ FIRSTDATUI(6)
;━━━━━━━━━━━━━━━━━━━━━━━━
IF 口上記入チェック(0) && TFLAG:自主脱衣 && B_DATUICHECK(0) == 2 && !IS_NOWASSIACTNAME(ASSI, "脱衣")
	;=================================================
	;初回
	;=================================================
	IF 口上記入チェック(0) && FIRSTDATUI(6)
		PRINTFORMW 
		RETURN 1
	ENDIF
	
	;-------------------------
	;その他
	;-------------------------
	PRINTFORMW 
	RETURN 1
ENDIF

;・「全裸まで脱いだ」だけではなく、「今脱いだので全裸になった」という意味
;・「上着しか残っていない状態で上着を脱いだ」なども含まれる
;━━━━━━━━━━━━━━━━━━━━━━━━
;自主脱衣・全裸に FIRSTDATUI(7)
;━━━━━━━━━━━━━━━━━━━━━━━━
IF 口上記入チェック(0) && TFLAG:自主脱衣 && ZENRACHECK(0) && !IS_NOWASSIACTNAME(ASSI, "脱衣")
	;=================================================
	;初回
	;=================================================
	IF 口上記入チェック(0) && FIRSTDATUI(7)
		PRINTFORMW 
		RETURN 1
	ENDIF
	
	;-------------------------
	;その他
	;-------------------------
	PRINTFORMW 
	RETURN 1
ENDIF

;・主に靴下。他には手袋や袖など
;・脱がしたうちに入らない！となりがちなのでこれだけは部位別テンプレを用意
;━━━━━━━━━━━━━━━━━━━━━━━━
;強制脱衣・アクセサリーのみ FIRSTDATUI(8)
;━━━━━━━━━━━━━━━━━━━━━━━━
IF 口上記入チェック(0) && TFLAG:強制脱衣 == 6
	;=================================================
	;初回
	;=================================================
	IF 口上記入チェック(0) && FIRSTDATUI(8)
		PRINTFORMW 
		RETURN 1
	ENDIF
	
	;=================================================
	;全裸になった
	;=================================================
	IF 口上記入チェック(0) && ZENRACHECK(1)
		PRINTFORMW 
		RETURN 1
	ENDIF
	
	;-------------------------
	;その他
	;-------------------------
	PRINTFORMW 
	RETURN 1
ENDIF

;・今回の脱衣で男性器が見えるようになった場合に表示
;・ぱんつ見せろを経由せず一気に脱がせる場合あり
;━━━━━━━━━━━━━━━━━━━━━━━━
;強制脱衣・ちんこ見せろ FIRSTDATUI(9)
;━━━━━━━━━━━━━━━━━━━━━━━━
IF 口上記入チェック(0) && TFLAG:強制脱衣 && P_DATUICHECK(1) == 3 && PENIS(MASTER)
	PRINTFORMW 
	RETURN 1
ENDIF

;・今回の脱衣で女性器が見えるようになった場合に表示
;・ぱんつ見せろを経由せず一気に脱がせる場合あり
;━━━━━━━━━━━━━━━━━━━━━━━━
;強制脱衣・まんまん見せろ FIRSTDATUI(10)
;━━━━━━━━━━━━━━━━━━━━━━━━
IF 口上記入チェック(0) && TFLAG:強制脱衣 && P_DATUICHECK(1) == 3 && !TALENT:MASTER:オトコ
	IF PENIS(TARGET)	;調教者にペニスあり
		PRINTFORMW 
	ELSE				;調教者にペニスなし
		PRINTFORMW 
	ENDIF
	RETURN 1
ENDIF

;・今回の脱衣でおっぱいが見えるようになった場合に表示
;・ブラ見せろを経由せず一気に脱がせる場合あり
;・調教対象がオトコだと表示しないので、オトコ限定口上では書く必要が無い
;━━━━━━━━━━━━━━━━━━━━━━━━
;強制脱衣・おっぱい見せろ FIRSTDATUI(11)
;━━━━━━━━━━━━━━━━━━━━━━━━
IF 口上記入チェック(0) && TFLAG:強制脱衣 && B_DATUICHECK(1) == 3 && !TALENT:MASTER:オトコ
	PRINTFORMW 
	RETURN 1
ENDIF

;・今回の脱衣で下半身下着が見えるようになった場合に表示
;・調教対象が下半身下着の無いキャラ限定の口上であれば書く必要がない
;━━━━━━━━━━━━━━━━━━━━━━━━
;強制脱衣・ぱんつ見せろ FIRSTDATUI(12)
;━━━━━━━━━━━━━━━━━━━━━━━━
IF 口上記入チェック(0) && TFLAG:強制脱衣 && P_DATUICHECK(1) == 2
	IF TALENT:MASTER:オトコ
		PRINTFORMW 
	ELSEIF TALENT:MASTER:ふたなり
		PRINTFORMW 
	ELSE
		PRINTFORMW 
	ENDIF
	RETURN 1
ENDIF

;・今回の脱衣でブラ上半身下着が見えるようになった場合に表示
;・調教対象がオトコだと表示しないので、オトコ限定口上では書く必要が無い
;・調教対象が上半身下着の無いキャラ限定の口上であれば書く必要がない
;━━━━━━━━━━━━━━━━━━━━━━━━
;強制脱衣・ブラ見せろ FIRSTDATUI(13)
;━━━━━━━━━━━━━━━━━━━━━━━━
IF 口上記入チェック(0) && TFLAG:強制脱衣 && B_DATUICHECK(1) == 2 && !TALENT:MASTER:オトコ
	;=================================================
	;初回
	;=================================================
	IF 口上記入チェック(0) && FIRSTDATUI(13)
		PRINTFORMW 
		RETURN 1
	ENDIF
	
	;-------------------------
	;その他
	;-------------------------
	PRINTFORMW 
	RETURN 1
ENDIF

;・「全裸まで剥いだ」だけではなく、「今剥いだので全裸になった」という意味
;・「上着しか残っていない状態で上着を剥いだ」なども含まれる
;・「おっぱい見せろ」～「ぱんつ見せろ」を書いた場合は記入する必要はない（上層の分岐に食われてここまで落ちてこない為）
;━━━━━━━━━━━━━━━━━━━━━━━━
;強制脱衣・全裸に FIRSTDATUI(14)
;━━━━━━━━━━━━━━━━━━━━━━━━
IF 口上記入チェック(0) && TFLAG:強制脱衣 && ZENRACHECK(1)
	;=================================================
	;初回
	;=================================================
	IF 口上記入チェック(0) && FIRSTDATUI(14)
		IF TALENT:MASTER:オトコ
			PRINTFORMW 
		ELSEIF TALENT:MASTER:ふたなり
			PRINTFORMW 
		ELSE
			PRINTFORMW 
		ENDIF
		RETURN 1
	ENDIF
	
	;-------------------------
	;その他
	;-------------------------
	IF TALENT:MASTER:オトコ
		PRINTFORMW 
	ELSEIF TALENT:MASTER:ふたなり
		PRINTFORMW 
	ELSE
		PRINTFORMW 
	ENDIF
	RETURN 1
ENDIF

;・自慰・奉仕系の予備動作になりやすい
;━━━━━━━━━━━━━━━━━━━━━━━━
;自主脱衣・何か脱いだ FIRSTDATUI(15)
;━━━━━━━━━━━━━━━━━━━━━━━━
IF 口上記入チェック(0) && TFLAG:自主脱衣 && !IS_NOWASSIACTNAME(ASSI, "脱衣")
	;=================================================
	;初回
	;=================================================
	IF 口上記入チェック(0) && FIRSTDATUI(15)
		PRINTFORMW 
		RETURN 1
	ENDIF
	
	;-------------------------
	;その他
	;-------------------------
	PRINTFORMW 
	RETURN 1
ENDIF

;・愛撫系の予備動作になりやすい
;━━━━━━━━━━━━━━━━━━━━━━━━
;強制脱衣・何か剥いだ FIRSTDATUI(16)
;━━━━━━━━━━━━━━━━━━━━━━━━
IF 口上記入チェック(0) && TFLAG:強制脱衣
	;=================================================
	;初回
	;=================================================
	IF 口上記入チェック(0) && FIRSTDATUI(16)
		PRINTFORMW 
		RETURN 1
	ENDIF
	
	;-------------------------
	;その他
	;-------------------------
	PRINTFORMW 
	RETURN 1
ENDIF


;=================================================
;追加アクション口上
;=================================================
;・調教者が追加行動を取ったときに汎用的に表示
;・書く場合、アクション口上の後に続けて違和感のない形で書かれることが望ましい
;-------------------------------------------------

;-------------------------------------------------
;EXTRA1, Ｃ愛撫
;-------------------------------------------------
;・追加で愛撫または手淫を行う
;・調教対象にペニスがない場合は愛撫、ある場合は手淫
;-------------------------------------------------
@KOJO_ACT_EXTRA_K64_1
;-------------------------------------------------
;EXTRA1_0, 愛撫する
;-------------------------------------------------
;・調教対象にペニスがない場合
;-------------------------------------------------
IF 口上記入チェック(0) && !PENIS(MASTER)
	PRINTFORMW 
	RETURN 1
ENDIF

;-------------------------------------------------
;EXTRA1_1, 手淫する
;-------------------------------------------------
;・調教対象にペニスがある場合
;-------------------------------------------------
IF 口上記入チェック(0) && PENIS(MASTER)
	PRINTFORMW 
	RETURN 1
ENDIF

;-------------------------------------------------
;EXTRA2, Ｖ愛撫
;-------------------------------------------------
;・追加でヴァッジ愛撫を行う
;・調教対象がオトコの場合発生しない
;・調教対象が処女の場合は発生しない
;-------------------------------------------------
@KOJO_ACT_EXTRA_K64_2
IF 口上記入チェック(0)
	PRINTFORMW 
	RETURN 1
ENDIF

;-------------------------------------------------
;EXTRA3, Ａ愛撫
;-------------------------------------------------
;・追加でアナル愛撫を行う
;-------------------------------------------------
@KOJO_ACT_EXTRA_K64_3
IF 口上記入チェック(0)
	PRINTFORMW 
	RETURN 1
ENDIF

;-------------------------------------------------
;EXTRA4, Ｂ愛撫
;-------------------------------------------------
;・追加で乳首責めを行う
;-------------------------------------------------
@KOJO_ACT_EXTRA_K64_4
IF 口上記入チェック(0)
	PRINTFORMW 
	RETURN 1
ENDIF


;=================================================
;媚薬等使用口上
;=================================================
;・調教者が媚薬やローションを使用したときに汎用的に表示
;・「アクション口上」で記入チェックを=2とした場合は表示されない
;・書く場合、アクション口上の後に続けて違和感のない形で書かれることが望ましい
;-------------------------------------------------
@KOJO_USE_K64
;-------------------------------------------------
;ローション/媚薬同時使用
;-------------------------------------------------
;・主に性交系コマンドから発生する
;-------------------------------------------------
IF 口上記入チェック(0) && (TFLAG:媚薬等使用口上 & 3) == 3
	PRINTFORMW 
	RETURN 1
ENDIF

;-------------------------------------------------
;ローション使用
;-------------------------------------------------
;・玩具・性交系コマンド等から発生する
;-------------------------------------------------
IF 口上記入チェック() && (TFLAG:媚薬等使用口上 & 1)
	PRINTFORMW 「そうだ、これも使ってあげる」
	PRINTFORMW 「はい、ぬるぬる～♪」
	RETURN 1
ENDIF

;-------------------------------------------------
;媚薬使用
;-------------------------------------------------
;・愛撫系コマンド等から発生する
;・キスで発生した場合は口移しとなるため、そのケースはキスのアクション口上内で処理するほうがよい
;-------------------------------------------------
IF 口上記入チェック(0) && (TFLAG:媚薬等使用口上 & 2)
	PRINTFORMW 
	RETURN 1
ENDIF
