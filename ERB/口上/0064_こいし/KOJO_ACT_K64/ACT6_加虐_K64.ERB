;_/_/_/_/_/_/_/_/_/_/_/_/_/_/_/_/_/_/_/_/_/_/_/_/#
;
;	こいし口上 加虐系アクション口上ファイル
;
;	加虐系アクション口上をまとめたファイル
;
;_/_/_/_/_/_/_/_/_/_/_/_/_/_/_/_/_/_/_/_/_/_/_/_/#

;========================================================================
;加虐系 ACT60～68
;========================================================================
;・TFLAG:ACT(60=スパンキング/61=鞭/62=針/63=縄/64=アイマスク/65=ボールギャグ/66=罵倒/67=三角木馬/68=浣腸セット)
;・TFLAG:ACT分類 == 6に該当
;・汎用リアクションにおいてはMENUMATCH(TFLAG:ACT, "加虐")で参照する事が可能
;・TEQUIP系は基本、ACT開始時点で装着される
;・ACTによっては調教対象の反応次第でキャンセルされる事がある
;・縄/アイマスク/ボールギャグ/三角木馬はTEQUIPで管理され当該ACT/REACT以外でもTEQUIP:縄等で参照できる
;-------------------------------------------------
;・戻り値(RESULT)について
;・システム側では口上側のRESULT(終端のRETURN 1など)によって口上が表示されたのか否か、
;・また箇所毎の特有の挙動(媚薬等口上をスキップなど)を制御しています
;・@口上記入チェックの場合代入処理を省略できますが、RESULT値は口上側で決めうちする必要があります
;・特別な理由がない限り、テンプレとしてはRETURN 1を記述しておきます
;-------------------------------------------------

;────────────────────────────────────
;ACT60, スパンキング
;────────────────────────────────────
;・調教者が調教対象の尻を平手で叩く
;・ACT開始時点ですでに叩いている
;・性交奉仕中には発生しない
;・顔面騎乗系は解除される
;・調教者が自慰中である場合は解除される
;-------------------------------------------------
@KOJO_ACT_K64_60
;-------------------------------------------------
;・ACTの派生なし
;-------------------------------------------------
;━━━━━━━━━━━━━━━━━━━━━━━━
;ACT60, スパンキング
;━━━━━━━━━━━━━━━━━━━━━━━━
;・地の文に分岐なし
;・@TARGET_DESCRIPTIONで状況描写が入る可能性あり
;-------------------------------------------------
IF 口上記入チェック() && !TFLAG:ACT派生
	[SKIPSTART]
	各分岐内にABL:MASTER:マゾっ気やABL:MASTER:苦痛中毒等で派生を設けるのも良いと思います
	デフォルトで用意すると無理に埋めにかかる例が割りと良くみられるので、テンプレとしてはあえて設けません
	必要に応じて拡張して下さい
	
	SELECTCASE ABL:MASTER:マゾっ気
		CASE IS >= 6	;マゾっ気6以上
			PRINTFORMW 
		CASE IS >= 4	;マゾっ気4以上
			PRINTFORMW 
		CASEELSE		;その他(マゾっ気3以下)
			PRINTFORMW 
	ENDSELECT
	
	とか、こんな感じで。確率も絡めて分けるなら…
	IF ELSEIFでABL:MASTER:マゾっ気 > 6 && !RAND:2みたいなやり方でもいいかと
	単に派生させるだけならIF ELSEIFよりSELECTCASEの使用が望ましいです
	[SKIPEND]
	;=================================================
	;初回
	;=================================================
	IF 口上記入チェック() && FIRSTACT(0)
		PRINTFORMW 「言う事聞かない子は、お尻ぺんぺんよ」
		RETURN 1
	ENDIF
	
	;今日の方針がお仕置きの場合はここにしか落ちなくなるので
	;口上記入チェック(20)などとして確率を絞るのを推奨
	;=================================================
	;お仕置き発動中
	;=================================================
	IF 口上記入チェック(33) && TFLAG:お仕置きフラグ
		PRINTFORMDW %CALLNAME:MASTER%の尻を叩くこいしはとても楽しそうだ…
		IF ALI(0)	;とりあえず分けてみるテスト
			PRINTFORMW 「ごめんね、私も本当はこんなことしたくないの」
			PRINTFORMW 「でも、痛くしないとおしおきにならないから…」
		ELSE
			PRINTFORMW 「悪い子にはお尻ぺんぺんの刑よ！」
			PRINTFORMW 「びしっ！ ばしっ！ うふふ…」
			PRINTFORMDW 何故かこいしの口から発せられる擬音と、尻を叩くタイミングや強さがまるで合っていない
			PRINTFORMDW 期せずして若干不意打ちめいた衝撃が、%CALLNAME:MASTER%の苦痛と恐怖を増幅する…
			PRINTFORMW 「びしっ！ ばしっ！ ぱぁん！ くすくす…」
		ENDIF
		RETURN 1
	ENDIF
	
	;TEQUIP:調教対象Ｃ使用 == 2（口による愛撫）は考慮しない
	;=================================================
	;Ｃ愛撫継続中
	;=================================================
	IF 口上記入チェック(0) && TEQUIP:TARGET:調教対象Ｃ使用 == 1
		IF PENIS(MASTER)	;手淫継続中
			PRINTFORMW 
		ELSE				;愛撫継続中
			PRINTFORMW 
		ENDIF
		RETURN 1
	ENDIF
	
	;=================================================
	;連続実行
	;=================================================
	IF 口上記入チェック() && TFLAG:ACT == TFLAG:前ACT
		PRINTFORMW 「ふふ…%K64_CNAME()%のお尻、キレイな色になってきたよ？」
		PRINTFORMW 「このまま叩き続けたら、どんな色になるのかなぁ…」
		RETURN 1
	ENDIF
	
	;=================================================
	;その他・条件無し
	;=================================================
	IF 口上記入チェック()
		PRINTFORMW 「くすっ…どう？ 痛い？」
		RETURN 1
	ENDIF
ENDIF

;────────────────────────────────────
;ACT61, 鞭
;────────────────────────────────────
;・調教者が鞭を大きく振り上げ思いっきり振り下ろす
;・ACT開始時点ですでに叩いている
;・ターン方針が"ソフト"だと発生しない
;・性交中/性交奉仕中には発生しない
;-------------------------------------------------
@KOJO_ACT_K64_61
;-------------------------------------------------
;・ACTの派生なし
;-------------------------------------------------
;━━━━━━━━━━━━━━━━━━━━━━━━
;ACT61, 鞭
;━━━━━━━━━━━━━━━━━━━━━━━━
;・地の文に分岐なし
;-------------------------------------------------
IF 口上記入チェック(0) && !TFLAG:ACT派生
	;=================================================
	;初回
	;=================================================
	IF 口上記入チェック() && FIRSTACT(0)
		PRINTFORMDW 突然、空を裂くような音と共に、%CALLNAME:MASTER%の身体に激痛が走った
		PRINTFORMDW 慌てて状況を確認すると、どうやらこいしに鞭で打たれたようだ
		PRINTFORMW 「あははっ、鞭は楽だし面白いし手も痛くならない♪」
		PRINTFORMW 「まだ終わりじゃないよ？ ほらっ！ うふふ…」
		RETURN 1
	ENDIF
	
	;=================================================
	;アイマスク装着
	;=================================================
	IF 口上記入チェック(0) && TEQUIP:TARGET:アイマスク
		PRINTFORMW 
		RETURN 1
	ENDIF
	
	;=================================================
	;拘束中
	;=================================================
	IF 口上記入チェック(0) && TEQUIP:TARGET:縄
		PRINTFORMW 
		RETURN 1
	ENDIF
	
	;=================================================
	;その他・条件無し
	;=================================================
	IF 口上記入チェック()
		PRINTFORMW 「さぁ、びしびし躾けるよ♪」
		RETURN 1
	ENDIF
ENDIF

;────────────────────────────────────
;ACT62, 針
;────────────────────────────────────
;・乳首と性器に針を突き刺す
;・ACT開始時点ですでに刺している
;・調教対象にペニスがある場合はペニスに、無い場合はクリトリスに突き刺す
;・胸と性器(ペニス/ヴァギナ)から出血し、血液汚れが追加される
;・ターン方針が"ソフト", "ノーマル"だと発生しない
;・性交中/性交奉仕中には発生しない
;・顔面騎乗系、自慰系は解除される
;-------------------------------------------------
@KOJO_ACT_K64_62
;-------------------------------------------------
;・ACTの派生なし
;-------------------------------------------------
;━━━━━━━━━━━━━━━━━━━━━━━━
;ACT62, 針
;━━━━━━━━━━━━━━━━━━━━━━━━
;・地の文はペニスの有無で分岐。分岐内に派生なし
;-------------------------------------------------
;IF 口上記入チェック(0) && PENIS(MASTER)等で分ける手もあります。必要に応じて分岐を増減して下さい
;割りと書きにくい箇所であり、まともにやるのは手間なので\@ PENIS(MASTER) ? ペニス # クリトリス \@のように三項を使うと楽できたりします
;-------------------------------------------------
IF 口上記入チェック(0) && !TFLAG:ACT派生
	;=================================================
	;初回
	;=================================================
	IF 口上記入チェック(0) && FIRSTACT(0)
		PRINTFORMW 
		RETURN 1
	ENDIF
	
	;=================================================
	;アイマスク装着中
	;=================================================
	IF 口上記入チェック() && TEQUIP:TARGET:アイマスク
		PRINTFORMW 「あ、動かないほうがいいよ」
		PRINTFORMW 「暴れられたら、狙いが外れて酷いことになっちゃうわ。くすくす…」
		RETURN 1
	ENDIF
	
	;=================================================
	;その他・条件無し
	;=================================================
	IF 口上記入チェック(0)
		PRINTFORMW 
		RETURN 1
	ENDIF
ENDIF

;────────────────────────────────────
;ACT63, 縄
;────────────────────────────────────
;・調教対象を縄で縛ろうとする
;・地の文は"縛ろうとした…"となっているが処理的にはACT開始時点で縛られている
;・TEQUIP:縄 で縛りの強度を参照できる
;・既に装備していた場合は解除になる
;・既に装着済み、かつTFLAG:お仕置きフラグが立っている場合は発生しない(即ち、解除されない)
;・TEQUIP:縄自体はREACT分類が"許しを乞う"の場合に解除される
;・0616版時点の仕様でこの挙動を確実に参照する手段なし。本体側の改善が求められる
;・(REACT63以外でもキャンセル処理になる場合がある為)
;・性交中/性交奉仕中には発生しない
;・拘束時に自慰や顔面騎乗、調教対象のペニス使用中は解除される
;-------------------------------------------------
@KOJO_ACT_K64_63
;-------------------------------------------------
;・TFLAG:ACT派生(0=装着/1=解除)
;-------------------------------------------------
;━━━━━━━━━━━━━━━━━━━━━━━━
;ACT63_0, 縄装着
;━━━━━━━━━━━━━━━━━━━━━━━━
;・反抗刻印、調教者調教レベル、技巧、縛り上手素質に応じて拘束SOURCE増加
;・拘束SOURCEに応じて強度上昇
;-------------------------------------------------
IF 口上記入チェック(0) && !TFLAG:ACT派生
	;=================================================
	;初回
	;=================================================
	IF 口上記入チェック(0) && FIRSTACT(0)
		PRINTFORMW 
		RETURN 1
	ENDIF
	
	;縛り強度は通常だと1か2程度と思われます
	;それ以上の縛り強度は反抗刻印や調教者の縛り上手素質+一定以上の技巧が要求されるかと
	;=================================================
	;その他・条件無し
	;=================================================
	IF 口上記入チェック(0)
		SELECTCASE TEQUIP:TARGET:縄
			CASE IS >= 3	;縛り強度3、もしくはそれ以上
				PRINTFORMW 
			CASE 2			;縛り強度2
				PRINTFORMW 
			CASEELSE		;その他
				PRINTFORMW 
		ENDSELECT
		RETURN 1
	ENDIF
ENDIF

;━━━━━━━━━━━━━━━━━━━━━━━━
;ACT63_1, 縄解除
;━━━━━━━━━━━━━━━━━━━━━━━━
;縄解除に派生した時点で、"TEQUIP:縄 = 0"となるので解除時に縛り強度は参照できない
;装着と強度で同じTEQUIPを使いまわしている為、このようになってしまう
;-------------------------------------------------
IF 口上記入チェック(0) && TFLAG:ACT派生 == 1
	;ABL:MASTER:拘束中毒なりABL:MASTER:マゾっ気で派生を設けても良いかと思います
	;@RANDACTでランダム処理するのも良いでしょう
	;必要に応じて拡張して下さい
	;=================================================
	;その他・条件無し
	;=================================================
	IF 口上記入チェック(0)
		PRINTFORMW 
		RETURN 1
	ENDIF
ENDIF

;────────────────────────────────────
;ACT64, アイマスク
;────────────────────────────────────
;・調教者がアイマスクを着けさせようとする
;・地の文では"着けさせようとした…"となっているが処理上はACT開始時点で装着されている
;・既に装備していた場合は解除になる
;・既に装着済み、かつTFLAG:お仕置きフラグが立っている場合は発生しない(即ち、解除されない)
;・TEQUIP:アイマスクはREACT分類が"許しを乞う"であった場合に解除される
;・0616版時点の仕様でこの挙動を確実に参照する手段なし。本体側の改善が求められる
;・(REACT64以外でもキャンセル処理になる場合がある為)
;・性交中/性交奉仕中には発生しない
;・顔面騎乗系は解除される
;・調教者が自慰中であった場合は解除される
;-------------------------------------------------
@KOJO_ACT_K64_64
;-------------------------------------------------
;・TFLAG:ACT派性(0=装着/1=解除)
;-------------------------------------------------
;━━━━━━━━━━━━━━━━━━━━━━━━
;ACT64_0, アイマスク装着
;━━━━━━━━━━━━━━━━━━━━━━━━
;・調教対象にペニスがある場合、マゾっ気に応じて勃起度上昇
;-------------------------------------------------
IF 口上記入チェック(0) && !TFLAG:ACT派生
	;=================================================
	;初回
	;=================================================
	IF 口上記入チェック(0) && FIRSTACT(0)
		PRINTFORMW 
		RETURN 1
	ENDIF
	
	;ABL:MASTER:拘束中毒なりABL:MASTER:マゾっ気で派生を設けても良いかと思います
	;@RANDACTでランダム処理するのも良いでしょう
	;必要に応じて拡張して下さい
	;=================================================
	;その他・条件無し
	;=================================================
	IF 口上記入チェック(0)
		PRINTFORMW 
		RETURN 1
	ENDIF
ENDIF

;━━━━━━━━━━━━━━━━━━━━━━━━
;ACT64_1, アイマスク解除
;━━━━━━━━━━━━━━━━━━━━━━━━
IF 口上記入チェック(0) && TFLAG:ACT派生 == 1
	;=================================================
	;その他・条件無し
	;=================================================
	IF 口上記入チェック(0)
		PRINTFORMW 
		RETURN 1
	ENDIF
ENDIF

;────────────────────────────────────
;ACT65, ボールギャグ
;────────────────────────────────────
;・調教者がボールギャグを嵌めさせようとする
;・地の文では"嵌めさせようとした…"となっているが処理上はACT開始時点で装着されている
;・既に装備していた場合は解除になる
;・既に装着済み、かつTFLAG:お仕置きフラグが立っている場合は発生しない(即ち、解除されない)
;・TEQUIP:ボールギャグはREACT分類が"許しを乞う"であった場合に解除される
;・0616版時点の仕様でこの挙動を※確実に参照する手段なし。本体側の改善が求められる
;・※REACT64以外でもキャンセル処理になる場合がある為
;・ターン方針が"ソフト", "ノーマル"の場合は発生しない
;・性交中/性交奉仕中には発生しない
;・顔面騎乗系は解除される
;・調教者が自慰中であった場合は解除される
;-------------------------------------------------
@KOJO_ACT_K64_65
;-------------------------------------------------
;・TFLAG:ACT派性(0=装着/1=解除)
;-------------------------------------------------
;━━━━━━━━━━━━━━━━━━━━━━━━
;ACT65_0, ボールギャグ装着
;━━━━━━━━━━━━━━━━━━━━━━━━
;・調教対象にペニスがある場合、マゾっ気に応じて勃起度上昇
;-------------------------------------------------
IF 口上記入チェック() && !TFLAG:ACT派生
	;=================================================
	;初回
	;=================================================
	IF 口上記入チェック(0) && FIRSTACT(0)
		PRINTFORMW 
		RETURN 1
	ENDIF
	
	;ABL:MASTER:拘束中毒なりABL:MASTER:マゾっ気で派生を設けても良いかと思います
	;@RANDACTでランダム処理するのも良いでしょう
	;必要に応じて拡張して下さい
	;=================================================
	;その他・条件無し
	;=================================================
	IF 口上記入チェック()
		SELECTCASE TENSION(TARGET, 7)	;調教者の苛立ち
			CASE "高い"
				PRINTFORMW 「ウルサイのよ。ちょっと黙りなさい」
			CASEELSE
				PRINTFORMW 「ごめん、ちょっと黙ってて」
		ENDSELECT
		RETURN 1
	ENDIF
ENDIF

;━━━━━━━━━━━━━━━━━━━━━━━━
;ACT65_1, ボールギャグ解除
;━━━━━━━━━━━━━━━━━━━━━━━━
IF 口上記入チェック(0) && TFLAG:ACT派生 == 1
	;=================================================
	;その他・条件無し
	;=================================================
	IF 口上記入チェック(0)
		PRINTFORMW 
		RETURN 1
	ENDIF
ENDIF

;────────────────────────────────────
;ACT66, 罵倒
;────────────────────────────────────
;・挑発するように調教対象の痴態を声に出す
;・会話系から発生する場合もある
;・ターン方針が"ソフト"だと発生しない
;・会話系から派生する場合もある
;-------------------------------------------------
@KOJO_ACT_K64_66
;-------------------------------------------------
;・ACTの派生なし
;-------------------------------------------------
;━━━━━━━━━━━━━━━━━━━━━━━━
;ACT66, 罵倒
;━━━━━━━━━━━━━━━━━━━━━━━━
;・地の文に分岐なし。@TARGET_DESCRIPTIONによる状況描写が入る可能性あり
;-------------------------------------------------
IF 口上記入チェック(0)
	;=================================================
	;初回
	;=================================================
	IF 口上記入チェック(0) && FIRSTACT(0)
		PRINTFORMW 
		RETURN 1
	ENDIF
	
	;=================================================
	;性交中/性交奉仕中
	;=================================================
	IF 口上記入チェック(0) && TRUECHECK(TEQUIP:TARGET:性交中, TEQUIP:TARGET:性交奉仕中) > 0
		IF TEQUIP:TARGET:性交中	;性交中
			PRINTFORMW
		ELSE					;性交奉仕中
			PRINTFORMW
		ENDIF
		RETURN 1
	ENDIF
	
	;=================================================
	;自慰中
	;=================================================
	IF 口上記入チェック(0) && TRUECHECK(GETBIT(TEQUIP:TARGET:自慰中, 0), GETBIT(TEQUIP:TARGET:自慰中, 1)) > 0
		IF GETBIT(TEQUIP:TARGET:自慰中, 0)	;調教対象が自慰中
			PRINTFORMW 
		ELSE								;調教者が自慰中
			PRINTFORMW 
		ENDIF
		RETURN 1
	ENDIF
	
	;=================================================
	;Ｃ愛撫継続中
	;=================================================
	IF 口上記入チェック(0) && GROUPMATCH(TEQUIP:TARGET:調教対象Ｃ使用, 1, 2)
		IF TEQUIP:TARGET:調教対象Ｃ使用 == 1	;手淫・愛撫継続中
			PRINTFORMW 
		ELSE									;フェラ・クンニ継続中
			PRINTFORMW 
		ENDIF
		RETURN 1
	ENDIF
	
	;=================================================
	;特殊な条件(確率あり)
	;=================================================
	IF 口上記入チェック(0)
		IF 0	;追加しやすくするために
		ELSEIF !RAND:3 && NOWEX:MASTER:放尿			;前回ACTで失禁
			IF TALENT:MASTER:小柄
				PRINTFORMW 「あ、もしかして%K64_CNAME()%には、まだオムツが必要だった？」
				PRINTFORMW 「ごめんね。私、ぜんぜん気がつかなかった」
			ELSE
				PRINTFORMW 「いい年してお漏らしするんだ？」
				PRINTFORMW 「恥ずかしくないの？」
			ENDIF
			RETURN 1
		ELSEIF !RAND:2 && NOWEX:MASTER:射精 == 4	;前回ACTで射精(早漏)
			IF TALENT:MASTER:小柄
				PRINTFORMW 「ちょっとお子様には刺激が強すぎたかな？」
				PRINTFORMW 「くすくす」
			ELSE
				CALL HTMLPRINTW("「堪え性の無いおちんちんの事を、<b>早漏</b>って言うの」")
				PRINTFORMW 「…%K64_CNAME()%の事を言ってるのよ？」
			ENDIF
			RETURN 1
		ENDIF
		;ここで漏れたら条件無しに流す
	ENDIF
	
	;=================================================
	;その他・条件無し
	;=================================================
	IF 口上記入チェック(0)
		PRINTFORMW 
		RETURN 1
	ENDIF
ENDIF

;────────────────────────────────────
;ACT67, 三角木馬
;────────────────────────────────────
;・調教対象を木馬に乗せようとする
;・地の文は"乗せようとした…"となっているが処理上はACT開始時点で乗せられている
;・実は快Ｃではなく快Ｖが入る(生えてる木馬！？)
;・MASTERが処女なら、処女喪失が起こる(@ACTION_APPLY2で処理。REACT分類が許しを乞うの場合は回避される)
;・調教対象がオトコの場合は発生しない
;・ターン方針が"ソフト", "ノーマル"時には発生しない
;・TEQUIP(バイブ/アナルバイブ/アナルビーズ/浣腸器＋プラグ/ペニスバンド)装着時には発生しない
;・性交中/性交奉仕中には発生しない
;・野外プレイ時には発生しない
;・押し倒し中には発生しない
;・異常系から発生する場合もある
;・既に装備していた場合は解除になる
;・既に装着済み、かつTFLAG:お仕置きフラグが立っている場合は発生しない(即ち、解除されない)
;・TEQUIP:三角木馬はREACT分類が"許しを乞う"であった場合に解除される
;・0616版時点の仕様でこの挙動を※確実に参照する手段なし。本体側の改善が求められる
;・※REACT67以外でもキャンセル処理になる場合がある為
;-------------------------------------------------
@KOJO_ACT_K64_67
;-------------------------------------------------
;TFLAG:ACT派生(0=装着/1=解除)
;-------------------------------------------------
;━━━━━━━━━━━━━━━━━━━━━━━━
;ACT67_0, 三角木馬装着
;━━━━━━━━━━━━━━━━━━━━━━━━
;・地の文はACT派生で分岐。派生内では分岐なし
;-------------------------------------------------
IF 口上記入チェック(0) && !TFLAG:ACT派生
	;地の文↓
	;%CALLNAME:TARGET%は%CALLNAME:MASTER%を木馬に乗せようとした…
	
	;=================================================
	;初回
	;=================================================
	IF 口上記入チェック(0) && FIRSTACT(0)
		PRINTFORMW 
		RETURN 1
	ENDIF
	
	;=================================================
	;その他・条件無し
	;=================================================
	IF 口上記入チェック(0)
		PRINTFORMW 「ふふふ…次は『お馬さんごっこ』で遊びましょう♪」
		RETURN 1
	ENDIF
ENDIF

;━━━━━━━━━━━━━━━━━━━━━━━━
;ACT67_1, 三角木馬解除
;━━━━━━━━━━━━━━━━━━━━━━━━
;TEQUIPキャンセルの際にはここで拾える訳でない事に注意
;-------------------------------------------------
IF 口上記入チェック(0) && TFLAG:ACT派生 == 1
	;地の文↓
	;%CALLNAME:TARGET%は%CALLNAME:MASTER%を木馬から降ろしてやった…
	
	;初回とはいっても、過去にTEQUIPキャンセルや解除されないまま調教終了であった可能性もある
	;厳密にやりたいなら一工夫必要か…
	;=================================================
	;初回
	;=================================================
	IF 口上記入チェック(0) && FIRSTACT(1)
		PRINTFORMW 
		RETURN 1
	ENDIF
	
	;=================================================
	;その他・条件無し
	;=================================================
	IF 口上記入チェック(0)
		PRINTFORMW 
		RETURN 1
	ENDIF
ENDIF

;────────────────────────────────────
;ACT68, 浣腸セット
;────────────────────────────────────
;・浣腸液の注入/追加/排出
;・最初の注入時(ACT派生=0)は量1～3。追加時(ACT派生=2)は量1～4。それぞれランダムで処理される
;・既に装備している場合、浣腸液追加になる
;・浣腸液が5本入っている場合、浣腸プラグ解除になる
;・浣腸液の分量はTEQUIP:浣腸器＋プラグで参照できる
;・TEQUIP(アナルバイブ/アナルビーズ/ペニスバンド/三角木馬)装着時には発生しない
;・性交中/性交奉仕中には発生しない
;・ターン方針が"ソフト"だと発生しない
;・道具系から派生する場合もある
;-------------------------------------------------
@KOJO_ACT_K64_68
;-------------------------------------------------
;・TFLAG:ACT派生(0=装着/1=解除/2=浣腸液追加)
;-------------------------------------------------
;━━━━━━━━━━━━━━━━━━━━━━━━
;ACT68_0, 浣腸器＋プラグ装着
;━━━━━━━━━━━━━━━━━━━━━━━━
;・地の文はACT派生によって分岐。派生内では分岐なし
;-------------------------------------------------
IF 口上記入チェック(0) && !TFLAG:ACT派生
	;地の文↓
	;%CALLNAME:TARGET%は%TARGET_DESCRIPTION("つつ、")%%CALLNAME:MASTER%の菊穴に
	;浣腸液を流し込み、栓をした…
	
	;ACT開始時点で液は注入されており、TEQUIP:浣腸器＋プラグで液量を参照する事が可能
	
	;=================================================
	;初回「注入」
	;=================================================
	IF 口上記入チェック(0) && FIRSTACT(0)
		PRINTFORMW 
		RETURN 1
	ENDIF
	
	;仕様が変わる可能性を考慮して == ではなく >= としておく
	;=================================================
	;液量3
	;=================================================
	IF 口上記入チェック(0) && TEQUIP:TARGET:浣腸器＋プラグ >= 3
		PRINTFORMW 
		RETURN 1
	ENDIF
	
	;=================================================
	;液量2
	;=================================================
	IF 口上記入チェック(0) && TEQUIP:TARGET:浣腸器＋プラグ == 2
		PRINTFORMW 
		RETURN 1
	ENDIF
	
	;液量の分岐を全て埋めた場合はTEQUIP:浣腸器＋プラグ == 1に相当
	;個別に分けずにSELECTCASE TEQUIP:浣腸器＋プラグでまとめてしまう事も可能
	;=================================================
	;その他・条件無し
	;=================================================
	IF 口上記入チェック(0)
		PRINTFORMW 
		RETURN 1
	ENDIF
ENDIF

;━━━━━━━━━━━━━━━━━━━━━━━━
;ACT68_1, 浣腸器＋プラグ解除
;━━━━━━━━━━━━━━━━━━━━━━━━
;ここに派生する時点で液量は5になっている
;-------------------------------------------------
IF 口上記入チェック(0) && TFLAG:ACT派生 == 1
	;地の文↓
	;%CALLNAME:TARGET%は%TARGET_DESCRIPTION("ながら、")%%CALLNAME:MASTER%から
	;肛門栓を抜いて、腸内の汚物を肛門から撒き散らさせた…
	
	;=================================================
	;初回「排出」
	;=================================================
	IF 口上記入チェック(0) && FIRSTACT(1)
		PRINTFORMW 
		RETURN 1
	ENDIF
	
	;=================================================
	;その他・条件無し
	;=================================================
	IF 口上記入チェック(0)
		PRINTFORMW 
		RETURN 1
	ENDIF
ENDIF

;━━━━━━━━━━━━━━━━━━━━━━━━
;ACT68_2, 浣腸液追加
;━━━━━━━━━━━━━━━━━━━━━━━━
;既に注入済みの場合にこの箇所に派生
;-------------------------------------------------
IF 口上記入チェック(0) && TFLAG:ACT派生 == 2
	;地の文↓
	;%CALLNAME:TARGET%は%TARGET_DESCRIPTION("ながら、")%%CALLNAME:MASTER%のアナルに
	;さらに浣腸液を注入しようとした…
	
	[SKIPSTART]
	液量で書き分けるならコメントアウトを解除
	下層のPRINTFORMWを削除して下さい
	SELECTCASE TEQUIP:TARGET:浣腸器＋プラグ	;浣腸液分量派生
		CASE 5		;液量5
			PRINTFORMW 
		CASE 4		;液量4
			PRINTFORMW 
		CASE 3		;液量3
			PRINTFORMW 
		CASEELSE	;その他
			PRINTFORMW 
	ENDSELECT
	[SKIPEND]
	;書き分けないのであればここで
	PRINTFORMW 
	RETURN 1
ENDIF
