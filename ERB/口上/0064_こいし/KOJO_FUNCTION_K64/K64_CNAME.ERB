;-------------------------------------------------
;함수명:K64_CNAME
;개  요점:통칭 취득 함수
;인  수:ARG:0…[생략가능]캐릭터 등록 번호. 생략 했을 경우는 MASTER
;　　　 ARG:1…[생략가능]패턴 번호. 생략 했을 경우는 0
;　　　        0. ARG:0의 것과 회화중의 2 인칭적인 부르는 법(you라든지 너라든지)
;　　　        1. ARG:0이 있기 전으로, ARG:0 의외로 회화중 따위의 상황으로 삼인칭적인 부르는 법(it라든지 이 녀석이라든지)
;　　　        2. ARG:0의 없는 장소에서, 혼잣말등에서의 삼인칭적인 부르는 법(that라든지 그 아이라든지)
;반환값:통칭(캐릭터 라인)
;비  고:식 나카노세키수
;진하고가 누군가의 이름을 부를 때에 사용. 어째서 이렇게 되었다…
;통칭에 관한 이론은 인정한다
;
;우선 귀찮았어 최소한만 만든다. 생각하는 것은 그만두었다.
;후부터 기분으로 늘릴지도
;호감도 분기라든지 들어갈 수 있으면 울음 그럴지도. 역시 소구분으로 할까나…
;-------------------------------------------------
@K64_CNAME(ARG:0 = -2, ARG:1)
#FUNCTIONS
ARG:0 = ARG:0 == -2 ? MASTER # ARG:0	;ARG:0 생략시의 대응
SIF !INRANGE(ARG:0, 0, CHARANUM - 1)	;부정한 인수의 가드(ARG:0)
	THROW @K64_CNAME로 예외가 발생했습니다. 범위외의 캐릭터 등록 번호입니다({ARG:0})
SIF !INRANGE(ARG:1, 0, 2)				;부정한 인수의 가드(ARG:1)
	THROW @K64_CNAME로 예외가 발생했습니다. 범위외의 패턴 번호입니다({ARG:1})

;3*4의 12 패턴에 분기 해, 매번 매번 분할해 줍는다. 실제 귀찮음
IF ARG:0 == MASTER				;진하고가 노예의 이름을 부르는 경우(0, 1, 2)
	ARG:1 += 0
ELSEIF TALENT:(ARG:0):주인님	;진하고가[주인님]의 이름을 부르는 경우(3, 4, 5)
	ARG:1 += 3
ELSEIF NO:(FLAG:2) == 64		;진하고가 주인님으로, 조교자나 조수의 이름을 부르는 경우(6, 7, 8)
	ARG:1 += 6
ELSE							;진하고가 주인님이 아니고, 조교자나 조수의 이름을 부르는 경우(9, 10, 11)
	ARG:1 += 9
ENDIF

;캐릭터 마다의 정의
SELECTCASE NO:(ARG:0)
	CASE 0	;당신. 상황에 따라 여러 가지 불러 나눌 수 있지만… 아직 거기까지는 도달하지 않고
		;디폴트명과 그 이외로 처리를 나누지 않으면 기분 나쁘게 될 것 같은 생각이 들었다. 「그 이외」는 문장 조립상에서 원래 귀찮지만
		IF CALLNAME:(ARG:0) == "당신"
			LOCALS = 당신/이 아이/그 아이/주인님/주인님/주인님/당신/이 아이/그 아이/당신/이 아이/그 아이
		ELSE
			LOCALS = 당신/이 아이/그 아이/%CALLNAME:(ARG:0)%님/%CALLNAME:(ARG:0)%님/%CALLNAME:(ARG:0)%님/%CALLNAME:(ARG:0)%/%CALLNAME:(ARG:0)%/%CALLNAME:(ARG:0)%/%CALLNAME:(ARG:0)%/%CALLNAME:(ARG:0)%/%CALLNAME:(ARG:0)%
		ENDIF
	CASE 1	;레이무. 혹은 레이무님. 주인공 그 1
		LOCALS = 레이무/레이무/레이무/레이무님/레이무님/레이무님/레이무/레이무/레이무/레이무/레이무/레이무
	CASE 2	;마리사. 주인공 그 2
		RETURNF "마리사"
	CASE 11	;프랑 돌. 프랑짱은 너무 나오지 않기 때문에 접점이 조금 저것이지만… 왠지 모르게 프랑짱과 진하고 제대로 꿰맬 수 있는 는 세트군요
		LOCALS = 프랑/프랑/프랑짱/프랑짱/프랑짱/프랑짱/프랑짱/프랑짱/프랑짱/프랑짱/프랑짱/프랑짱
	CASE 23	;췌향. 지저 연결. 귀신에는 일단의 경의를. 조교가 진행된 단계에서 바꾼다는 것도 손
		LOCALS = 췌향씨/췌향씨/췌향씨/췌향씨/주인님/췌향씨/췌향씨/췌향씨/췌향씨/췌향씨/췌향씨/췌향씨
	CASE 32	;문. 취재 받았으므로 안면이 있지만 잘 모르기 때문에 미묘한 취급. 텐구는 경계 대상. 매번 동일 보고 쏘아 맞히고 명환, 이므로 이름을 기억하지 않는다
		;※신문가게가 많이 있는 경우, 이야기가 까다로워지므로 바꾼다. 신문가게→문, 은 세우고
		IF K64_GETCHARABYNAME("는 세우고") >= 0
			LOCALS = 당신/이 아이/그 아이/쏘아 맞히고 명환씨/주인님/쏘아 맞히고 명환씨/쏘아 맞히고 명환씨/쏘아 맞히고 명환씨/쏘아 맞히고 명환씨/쏘아 맞히고 명환씨/쏘아 맞히고 명환씨/쏘아 맞히고 명환씨
		ELSE
			LOCALS = 당신/이 아이/그 아이/쏘아 맞히고 명환씨/주인님/쏘아 맞히고 명환씨/신문가게/신문가게/신문가게/신문가게/신문가게/신문가게
		ENDIF
	CASE 36	;사계영희. 지옥 관리 연결이라고 하는 것보다는, 반드시 환상향의 유명인
		RETURNF "염라님"
	CASE 40	;에 있어. 동방심기앵연결. 갓빠는 지저에도 있는 것 같다. 그러면 격하 취급으로 좋다
		LOCALS = 에 있어/에 있어/에 있어/에 있어/에 있어/에 있어/잡화상씨/잡화상씨/잡화상씨/잡화상씨/잡화상씨/잡화상씨
	CASE 42	;사나에. 혹은 사나에님. 동방 지령전 연결
		LOCALS = 사나에/사나에/사나에/사나에님/사나에님/사나에님/사나에/사나에/사나에/사나에/사나에/사나에
	CASE 43	;카나자. 동방 지령전으로 이야기하러 나온 것 뿐
		;※신님이 많이 있는 경우, 이야기가 까다로워지므로 바꾼다. 신님→정엽, 양자, 병아리, 카나자, 스와자
		IF K64_GETCHARACOUNT("정엽/추/카나자/스와자")
			LOCALS = 카나자짱/카나자짱/카나자짱/카나자님/카나자님/카나자님/카나자님/카나자님/카나자님/카나자님/카나자님/카나자님
		ELSE
			LOCALS = 카나자짱/카나자짱/카나자짱/신님/신님/신님/신님/신님/신님/신님/신님/신님
		ENDIF
	CASE 44	;스와자. 동방 지령전 연결. 왜일까 마법 소녀 같아진다
		;※신님이 많이 있는 경우, 이야기가 까다로워지므로 바꾼다. 신님→정엽, 양자, 병아리, 카나자, 스와자
		IF K64_GETCHARACOUNT("양자/정엽/추/카나자")
			LOCALS = 케로짱/케로짱/케로짱/스와자님/스와자님/스와자님/스와자님/스와자님/스와자님/스와자님/스와자님/스와자님
		ELSE
			LOCALS = 케로짱/케로짱/케로짱/신님/신님/신님/신님/신님/신님/신님/신님/신님
		ENDIF
	CASE 57	;키스메. 지저 연결. 지저에서 고메이치를 무서워하지 않는 것은 귀신 정도라고 하는 일로 해 둔다
		RETURNF "키스메"
	CASE 58	;야마메. 지저 연결
		RETURNF "야마메"
	CASE 59	;파르스. 지저 연결. 주인님 때 우쭐해지는 타입
		LOCALS = 파르스/파르스/파르스/파르스님/주인님/파르스님/파르스/파르스/파르스/파르스/파르스/파르스
	CASE 60	;용의. 지저 연결. 귀신
		LOCALS = 용의씨/용의씨/용의씨/용의씨/주인님/용의씨/용의씨/용의씨/용의씨/용의씨/용의씨/용의씨
	CASE 61	;득도함
		RETURNF "누나"
	CASE 62	;린
		RETURNF "린"
	CASE 63	;하늘
		RETURNF "먹는다"
	CASE 64	;진하고. 이 분기는 주인님의 이름을 취하는데 FLAG:2를 건네주었을 때에 사는… 일지도
		RETURNF "나"
	CASE 66	;소우산. 나오지 않고
		RETURNF "소우산"
	CASE 67	;한송이. 지저 연결
		RETURNF "한송이"
	CASE 67	;무라사. 지저 연결
		RETURNF "수밀도"
	CASE 70	;백련. 동방구문구수로 권유된 연결
		LOCALS = 백련/백련/백련/성/성/성/스님/스님/스님/스님/스님/스님
	CASE 71	;꿰매어라. 지저 연결. 어딘지 모르게 프랑짱과 진하고 제대로 꿰맬 수 있는 는 세트
		LOCALS = 꿰매어라/꿰매어라/꿰맬 수 있는/꿰맬 수 있는/꿰맬 수 있는/꿰맬 수 있는/꿰맬 수 있는/꿰맬 수 있는/꿰맬 수 있는/꿰맬 수 있는/꿰맬 수 있는/꿰맬 수 있는
	CASE 72	;는 세우고. 취재 받았으므로 안면이 있지만 잘 모르기 때문에 미묘한 취급. 텐구는 경계 대상
		;※신문가게가 많이 있는 경우, 이야기가 까다로워지므로 바꾼다. 신문가게→문, 은 세우고
		IF K64_GETCHARABYNAME("문") >= 0
			LOCALS = 당신/이 아이/그 아이/는 세우고씨/주인님/는 세우고씨/는 세우고씨/는 세우고씨/는 세우고씨/는 세우고씨/는 세우고씨/는 세우고씨
		ELSE
			LOCALS = 당신/이 아이/그 아이/신문가게/주인님/신문가게/신문가게/신문가게/신문가게/신문가게/신문가게/신문가게
		ENDIF
	CASE 73	;화선. 귀신
		LOCALS = 화선씨/화선씨/화선씨/스승님/스승님/스승님/화선씨/화선씨/화선씨/화선씨/화선씨/화선씨
	CASE 78	;포도. 동방심기앵연결. 도이
		LOCALS = 포도짱/포도짱/포도짱/포도짱/주인님/포도짱/포도짱/포도짱/포도짱/포도짱/포도짱/포도짱
	CASE 79	;카미코. 동방심기앵연결
		LOCALS = 카미코/카미코/카미코/태자님/태자님/태자님/카미코/카미코/카미코/카미코/카미코/카미코
	CASE 80	;마미조우. 동방심기앵연결. 보통 사람이 아닌 분위기
		LOCALS = 마미조우/마미조우/마미조우/마미조우씨/마미조우씨/마미조우씨/너구리씨/너구리씨/너구리씨/너구리씨/너구리씨/너구리씨
	;그 외의 여러분
	;지장이 나올 것 같은 여러분으로부터 차례차례 독립시킬 방향으로. 주로 격이 다른 여러분을 나눈다
	CASEELSE
		LOCALS = %CALLNAME:(ARG:0)%/%CALLNAME:(ARG:0)%/%CALLNAME:(ARG:0)%/%CALLNAME:(ARG:0)%씨/주인님/%CALLNAME:(ARG:0)%씨/%CALLNAME:(ARG:0)%씨/%CALLNAME:(ARG:0)%씨/%CALLNAME:(ARG:0)%씨/%CALLNAME:(ARG:0)%씨/%CALLNAME:(ARG:0)%씨/%CALLNAME:(ARG:0)%씨
ENDSELECT
RETURNF AUTO_SPLIT(LOCALS, "/", ARG:1)
