;_/_/_/_/_/_/_/_/_/_/_/_/_/_/_/_/_/_/_/_/_/_/_/_/#
;
;	椛口上 その他調教イベント口上ファイル
;
;	その他調教ターン中イベントをまとめたファイル
;
;_/_/_/_/_/_/_/_/_/_/_/_/_/_/_/_/_/_/_/_/_/_/_/_/#

;────────────────────────────────────
;EV21, 大満足口上
;────────────────────────────────────
;・調教者の大満足ボーナスを取得した場合に表示
;-------------------------------------------------
@KOJO_EVENT_K41_21(ARG)
;-------------------------------------------------
;━━━━━━━━━━━━━━━━━━━━━━━━━
;椛さま大満足
;━━━━━━━━━━━━━━━━━━━━━━━━━
IF 口上記入チェック(100)
	PRINTFORMW 「きゃうううううううううううううん！！」
	PRINTFORMDW よほど満足だったのか、椛は山の麓まで届きそうな大声で
	PRINTFORMDW 絶頂の咆哮を上げた……
	RETURN 2
ENDIF

;────────────────────────────────────
;EV22, 状態変化口上
;────────────────────────────────────
;・状態異常が付いたときに表示
;・TCVAR:状態変化が調教者、TCVAR:MASTER:状態変化が調教対象
;・状態変化が起こると3ターン持続する
;-------------------------------------------------
@KOJO_EVENT_K41_22(ARG)
;-------------------------------------------------

;*************************************************
;EV22_0, 調教者状態変化
;*************************************************
;T_COND TARGETが指定した状態なら真を返す
;-------------------------------------------------
[SKIPSTART]
;━━━━━━━━━━━━━━━━━━━━━━━━
;椛さま[疲弊]化
;━━━━━━━━━━━━━━━━━━━━━━━━
IF 口上記入チェック(0) && T_COND("疲弊") && !TFLAG:一回休み
ENDIF

;━━━━━━━━━━━━━━━━━━━━━━━━
;椛さま[衰弱]化
;━━━━━━━━━━━━━━━━━━━━━━━━
IF 口上記入チェック(0) && T_COND("衰弱") && !TFLAG:一回休み
ENDIF

;━━━━━━━━━━━━━━━━━━━━━━━━
;椛さま[無気力]化
;━━━━━━━━━━━━━━━━━━━━━━━━
IF 口上記入チェック(0) && T_COND("無気力")
ENDIF

;━━━━━━━━━━━━━━━━━━━━━━━━
;椛さま[朦朧]化
;━━━━━━━━━━━━━━━━━━━━━━━━
IF 口上記入チェック(0) && T_COND("朦朧")
ENDIF
[SKIPEND]
;━━━━━━━━━━━━━━━━━━━━━━━━
;椛さま[情欲]化
;━━━━━━━━━━━━━━━━━━━━━━━━
IF 口上記入チェック(100) && T_COND("情欲")
	;アライメント正
	IF ALI(0)
		PRINTFORMDW 椛は紅葉のように鮮やかな舌を出し、自分の犬歯を舐めた
		PRINTFORMW 「すみません……少し、狼としての本能が抑えられそうにないです」
	;アライメント負
	ELSE
		PRINTFORMDW 椛は紅葉のように鮮やかな舌を出し、自分の犬歯を舐めた
		PRINTFORMW 「すみません……少し、狼としての本能が抑えられそうにないです」
	ENDIF
	RETURN 2
ENDIF

[SKIPSTART]
;━━━━━━━━━━━━━━━━━━━━━━━━
;椛さま[怒り]化
;━━━━━━━━━━━━━━━━━━━━━━━━
IF 口上記入チェック(0) && T_COND("怒り")
ENDIF

;━━━━━━━━━━━━━━━━━━━━━━━━
;椛さま[退屈]化
;━━━━━━━━━━━━━━━━━━━━━━━━
IF 口上記入チェック(0) && T_COND("退屈")
ENDIF

;━━━━━━━━━━━━━━━━━━━━━━━━
;椛さま[鬱屈]化
;━━━━━━━━━━━━━━━━━━━━━━━━
IF 口上記入チェック(0) && T_COND("鬱屈")
ENDIF
;TALENT:狂気がある場合にのみ1/5の確率で鬱屈化

;*************************************************
;EV22_1, 調教対象状態変化
;*************************************************
;M_COND MASTERが指定した状態なら真を返す
;------------------------------------------------
;━━━━━━━━━━━━━━━━━━━━━━━━
;調教対象[疲弊]化
;━━━━━━━━━━━━━━━━━━━━━━━━
IF 口上記入チェック(0) && M_COND("疲弊") && !TFLAG:一回休み
ENDIF

;━━━━━━━━━━━━━━━━━━━━━━━━
;調教対象[衰弱]化
;━━━━━━━━━━━━━━━━━━━━━━━━
IF 口上記入チェック(0) && M_COND("衰弱") && !TFLAG:一回休み
ENDIF

;━━━━━━━━━━━━━━━━━━━━━━━━
;調教対象[無気力]化
;━━━━━━━━━━━━━━━━━━━━━━━━
IF 口上記入チェック(0) && M_COND("無気力")
ENDIF

;━━━━━━━━━━━━━━━━━━━━━━━━
;調教対象[朦朧]化
;━━━━━━━━━━━━━━━━━━━━━━━━
IF 口上記入チェック(0) && M_COND("朦朧")
ENDIF

;━━━━━━━━━━━━━━━━━━━━━━━━
;調教対象[情欲]化
;━━━━━━━━━━━━━━━━━━━━━━━━
IF 口上記入チェック(0) && M_COND("情欲")
ENDIF

;━━━━━━━━━━━━━━━━━━━━━━━━
;調教対象[怒り]化
;━━━━━━━━━━━━━━━━━━━━━━━━
IF 口上記入チェック(0) && M_COND("怒り")
ENDIF

;━━━━━━━━━━━━━━━━━━━━━━━━
;調教対象[退屈]化
;━━━━━━━━━━━━━━━━━━━━━━━━
IF 口上記入チェック(0) && M_COND("退屈")
ENDIF

;━━━━━━━━━━━━━━━━━━━━━━━━
;調教対象[鬱屈]化
;━━━━━━━━━━━━━━━━━━━━━━━━
IF 口上記入チェック(0) && M_COND("鬱屈")
ENDIF
[SKIPEND]

;────────────────────────────────────
;EV23, 調教対象能力値アップ口上
;────────────────────────────────────
;・調教中に調教対象の能力値が上昇した際に表示
;-------------------------------------------------
@KOJO_EVENT_K41_23(ARG)
;-------------------------------------------------
;引数内訳…
;ARG=(今回上昇したABL番号/各ARG番号はABLのそれに相当)
;
;ARG:0 従順/1 欲望/2 技巧/3 Ｃ感覚/4 Ｖ感覚/5 Ａ感覚/6 Ｂ感覚/7 奉仕精神/8 露出癖/9 レズっ気/10ＢＬっ気/11マゾっ気
;12自慰中毒/13精液中毒/14レズ中毒/15苦痛中毒/16拘束中毒
;
;ARG:20 会話/21 愛撫/22 道具/23 性交/24 羞恥/25 奉仕/26 加虐/27 異常
;-------------------------------------------------
[SKIPSTART]
;━━━━━━━━━━━━━━━━━━━━━━━━
;調教対象[従順]アップ
;━━━━━━━━━━━━━━━━━━━━━━━━
IF 口上記入チェック(0) && ARG == 0
ENDIF

;━━━━━━━━━━━━━━━━━━━━━━━━
;調教対象[欲望]アップ
;━━━━━━━━━━━━━━━━━━━━━━━━
IF 口上記入チェック(0) && ARG == 1
ENDIF

;━━━━━━━━━━━━━━━━━━━━━━━━
;調教対象[技巧]アップ
;━━━━━━━━━━━━━━━━━━━━━━━━
IF 口上記入チェック(0) && ARG == 2
ENDIF

;━━━━━━━━━━━━━━━━━━━━━━━━
;調教対象[Ｃ感覚]アップ
;━━━━━━━━━━━━━━━━━━━━━━━━
IF 口上記入チェック(0) && ARG == 3
ENDIF

;━━━━━━━━━━━━━━━━━━━━━━━━
;調教対象[Ｖ感覚]アップ
;━━━━━━━━━━━━━━━━━━━━━━━━
IF 口上記入チェック(0) && ARG == 4
ENDIF

;━━━━━━━━━━━━━━━━━━━━━━━━
;調教対象[Ａ感覚]アップ
;━━━━━━━━━━━━━━━━━━━━━━━━
IF 口上記入チェック(0) && ARG == 5
ENDIF

;━━━━━━━━━━━━━━━━━━━━━━━━
;調教対象[Ｂ感覚]アップ
;━━━━━━━━━━━━━━━━━━━━━━━━
IF 口上記入チェック(0) && ARG == 6
ENDIF
[SKIPEND]

;────────────────────────────────────
;EV24, 調教者能力値アップ口上
;────────────────────────────────────
;・調教中に調教者の能力値が上昇した際に表示
;-------------------------------------------------
@KOJO_EVENT_K41_24(ARG)
;-------------------------------------------------
;引数内訳…
;ARG=(今回上昇したABL番号)
;
;ARG:0 従順/1 欲望/2 技巧/3 Ｃ感覚/4 Ｖ感覚/5 Ａ感覚/6 Ｂ感覚/7 奉仕精神/8 露出癖/9 レズっ気/10ＢＬっ気/11マゾっ気
;12自慰中毒/13精液中毒/14レズ中毒/15苦痛中毒/16拘束中毒
;
;ARG:20 会話/21 愛撫/22 道具/23 性交/24 羞恥/25 奉仕/26 加虐/27 異常
;-------------------------------------------------
[SKIPSTART]
;━━━━━━━━━━━━━━━━━━━━━━━━
;椛さま[欲望]アップ
;━━━━━━━━━━━━━━━━━━━━━━━━
IF 口上記入チェック(0) && ARG == 1
ENDIF

;━━━━━━━━━━━━━━━━━━━━━━━━
;椛さま[技巧]アップ
;━━━━━━━━━━━━━━━━━━━━━━━━
IF 口上記入チェック(0) && ARG == 2
ENDIF

;━━━━━━━━━━━━━━━━━━━━━━━━
;椛さま[Ｃ感覚]アップ
;━━━━━━━━━━━━━━━━━━━━━━━━
IF 口上記入チェック(0) && ARG == 3
ENDIF

;━━━━━━━━━━━━━━━━━━━━━━━━
;椛さま[Ｖ感覚]アップ
;━━━━━━━━━━━━━━━━━━━━━━━━
IF 口上記入チェック(0) && ARG == 4
ENDIF

;━━━━━━━━━━━━━━━━━━━━━━━━
;椛さま[Ａ感覚]アップ
;━━━━━━━━━━━━━━━━━━━━━━━━
IF 口上記入チェック(0) && ARG == 5
ENDIF

;━━━━━━━━━━━━━━━━━━━━━━━━
;椛さま[Ｂ感覚]アップ
;━━━━━━━━━━━━━━━━━━━━━━━━
IF 口上記入チェック(0) && ARG == 6
ENDIF
[SKIPEND]

;────────────────────────────────────
;EV29, 屈服・苦痛刻印による反抗刻印上限処理
;────────────────────────────────────
;・反抗刻印Lv上限の処理
;・反抗刻印は10-(苦痛刻印+屈服刻印)/2を超えない
;-------------------------------------------------
@KOJO_EVENT_K41_29(ARG)
;-------------------------------------------------
;%CALLNAME:TARGET%の与える快楽\@ MARK:MASTER:苦痛刻印 ? と苦痛 # \@が%CALLNAME:MASTER%から反抗の気力を奪っていく…
;反抗刻印は{MARK:反抗刻印}になった
;-------------------------------------------------
;━━━━━━━━━━━━━━━━━━━━━━━━
;反抗刻印上限処理
;━━━━━━━━━━━━━━━━━━━━━━━━
;IF 口上記入チェック(0)
;ENDIF

;========================================================================
;刻印取得口上
;========================================================================
;・調教中に刻印を取得させた場合に表示。どのレベルで口上表示するかは加減自由なので個々で調整するのが望ましい
;・記入チェックが=1の場合、同時に複数取得したときはこのファイルで一番上のものだけを表示する
;・=2の場合、取得した刻印の口上すべてを上から順に表示する
;・刻印取得による素質変動の前に表示するため、素質取得/喪失するかはこの時点でのTALENTの有無で判定できる
;-------------------------------------------------
@KOJO_MARK_K41(ARG:0, ARG:1, ARG:2, ARG:3, ARG:4)
#DIM 記入チェック
#DIM すべて順に表示
すべて順に表示 = 0	;刻印取得口上「すべて順に表示」のための初期化処理
;-------------------------------------------------
;引数内訳…
;ARG:(刻印番号)=(今回取得したレベル)
;-------------------------------------------------

;━━━━━━━━━━━━━━━━━━━━━━━━
;[トラウマ]取得
記入チェック = 1	;0.非表示/1.同時に取得した刻印をこれ以下表示しない/2.すべて順に表示する
;━━━━━━━━━━━━━━━━━━━━━━━━
IF 記入チェック && ARG:4
	SETBIT すべて順に表示, 4
	SELECTCASE ARG:4
		;トラウマLv2
		CASE 2
			PRINTFORMW 「申し訳ありません！」
			PRINTFORMDW 椛は加減しきれず%CALLNAME:MASTER%にトラウマを与えてしまったことを謝ってきた……
		;トラウマLv5
		CASE 5
			PRINTFORMW 「しまった……！　ここまでするつもりは……！」
			PRINTFORMDW 椛は%CALLNAME:MASTER%にひどいトラウマを刻みつけてしまったことを悔やんでいる……
		;トラウマLv10…[臆病]がない場合、それを得る
		;              既に[臆病]があり[狂気]がない場合、[幼稚]がある場合は100%、ない場合は1/3の確率で[狂気]を得る
		;              [狂気]の取得判定に漏れ、かつ[幼稚]を持たない場合、[幼稚]を得る(幼児退行する)
		;              現状、[狂気]と[幼稚]はどちらに転ぶか先に判定する術は無い(要望があれば…)。とりあえず頭がおかしくなると解釈してください
		CASE 10
		;表示しない
		CASEELSE
			CLEARBIT すべて順に表示, 4
	ENDSELECT
	SIF GETBIT(すべて順に表示, 4) && 記入チェック == 1
		RETURN 1
ENDIF

;━━━━━━━━━━━━━━━━━━━━━━━━
;[苦痛刻印]取得
記入チェック = 1	;0.非表示/1.同時に取得した刻印をこれ以下表示しない/2.すべて順に表示する
;━━━━━━━━━━━━━━━━━━━━━━━━
IF 記入チェック && ARG:0
	SETBIT すべて順に表示, 0
	SELECTCASE ARG:0
		;苦痛刻印Lv2
		CASE 2
			PRINTFORMW 「も、申し訳ありません！」
			PRINTFORMW 「力加減が出来ませんでした！　本当にすみません！」
		;苦痛刻印Lv5
		CASE 5
			PRINTFORMW 「わ、私はなんてことを……」
			PRINTFORMW 「苦痛で無理やりに従わせるなど、天狗としての誇りに反する行為です……」
		;苦痛刻印Lv9…[気丈]がある場合、それを失う
		;CASE 9
		;表示しない
		CASEELSE
			CLEARBIT すべて順に表示, 0
	ENDSELECT
	SIF GETBIT(すべて順に表示, 0) && 記入チェック == 1
		RETURN 1
ENDIF

[SKIPSTART]
;━━━━━━━━━━━━━━━━━━━━━━━━
;[反抗刻印]取得
記入チェック = 0	;（0, 非表示、1, 同時に取得した刻印をこれ以下表示しない、2, すべて順に表示する）
;━━━━━━━━━━━━━━━━━━━━━━━━
IF 口上記入チェック(100) && ARG:3
	SETBIT すべて順に表示, 3
	SELECTCASE ARG:3
		;反抗刻印Lv2
		CASE 2
		;表示しない
		CASEELSE
			CLEARBIT すべて順に表示, 3
	ENDSELECT
	SIF GETBIT(すべて順に表示, 3) && 記入チェック == 1
		RETURN 1
ENDIF

;━━━━━━━━━━━━━━━━━━━━━━━━
;[屈服刻印]取得
記入チェック = 0	;（0, 非表示、1, 同時に取得した刻印をこれ以下表示しない、2, すべて順に表示する）
;━━━━━━━━━━━━━━━━━━━━━━━━
IF 記入チェック && ARG:2
	SETBIT すべて順に表示, 2
	SELECTCASE ARG:2
		;屈服刻印Lv2
		CASE 2
		;屈服刻印Lv7…[反抗的]がある場合、それを失う
		CASE 7
		;屈服刻印Lv10…[プライド高い]がある場合、それを失う
		CASE 10
		;表示しない
		CASEELSE
			CLEARBIT すべて順に表示, 2
	ENDSELECT
	SIF GETBIT(すべて順に表示, 2) && 記入チェック == 1
		RETURN 1
ENDIF
[SKIPEND]

;━━━━━━━━━━━━━━━━━━━━━━━━
;[快楽刻印]取得
記入チェック = 1	;（0, 非表示、1, 同時に取得した刻印をこれ以下表示しない、2, すべて順に表示する）
;━━━━━━━━━━━━━━━━━━━━━━━━
IF 記入チェック && ARG:1
	SETBIT すべて順に表示, 1
	SELECTCASE ARG:1
		;快楽刻印Lv2
		CASE 2
			PRINTFORMW （あれ？）
			PRINTFORMW （なんだか、声の感じが少し変わったような……）
		;快楽刻印Lv5…[快感の否定]がある場合、それを失う
		CASE 5
			PRINTFORMW （すごい……気持ちよさそう……）
			PRINTFORMW （この人、私の調教で感じてるのかな……）
		;快楽刻印Lv7…[抑圧]がある場合、それを失う
		;CASE 7
		;快楽刻印Lv10…[快感に素直]がない場合、それを得る
		;CASE 10
		;表示しない
		CASEELSE
			CLEARBIT すべて順に表示, 1
	ENDSELECT
	SIF GETBIT(すべて順に表示, 1) && 記入チェック == 1
		RETURN 1
ENDIF

;刻印取得口上「すべて順に表示」のための終端処理
RETURN すべて順に表示 != 0